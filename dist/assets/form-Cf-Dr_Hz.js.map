{"version":3,"file":"form-Cf-Dr_Hz.js","sources":["../../src/components/ui/form.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport {\r\n  Controller,\r\n  ControllerProps,\r\n  FieldPath,\r\n  FieldValues,\r\n  FormProvider,\r\n  useFormContext,\r\n} from \"react-hook-form\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\r\n  {} as FormFieldContextValue\r\n)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState, formState } = useFormContext()\r\n\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\")\r\n  }\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue>(\r\n  {} as FormItemContextValue\r\n)\r\n\r\nconst FormItem = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n    </FormItemContext.Provider>\r\n  )\r\n})\r\nFormItem.displayName = \"FormItem\"\r\n\r\nconst FormLabel = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      ref={ref}\r\n      className={cn(error && \"text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormLabel.displayName = \"FormLabel\"\r\n\r\nconst FormControl = React.forwardRef<\r\n  React.ElementRef<typeof Slot>,\r\n  React.ComponentPropsWithoutRef<typeof Slot>\r\n>(({ ...props }, ref) => {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  return (\r\n    <Slot\r\n      ref={ref}\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormControl.displayName = \"FormControl\"\r\n\r\nconst FormDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formDescriptionId}\r\n      className={cn(\"text-sm text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormDescription.displayName = \"FormDescription\"\r\n\r\nconst FormMessage = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, children, ...props }, ref) => {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message) : children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      id={formMessageId}\r\n      className={cn(\"text-sm font-medium text-destructive\", className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n})\r\nFormMessage.displayName = \"FormMessage\"\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n"],"names":["Form","FormProvider","FormFieldContext","React.createContext","FormField","props","jsx","Controller","useFormField","fieldContext","React.useContext","itemContext","FormItemContext","getFieldState","formState","useFormContext","fieldState","id","FormItem","React.forwardRef","className","ref","React.useId","cn","FormLabel","error","formItemId","Label","FormControl","formDescriptionId","formMessageId","Slot","FormDescription","FormMessage","children","body"],"mappings":"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"}