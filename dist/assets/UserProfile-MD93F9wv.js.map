{"version":3,"file":"UserProfile-MD93F9wv.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bookmark.js","../../node_modules/lucide-react/dist/esm/icons/sliders-vertical.js","../../node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs","../../node_modules/@radix-ui/react-avatar/dist/index.mjs","../../src/components/ui/avatar.tsx","../../src/components/profile/ProfileAvatar.tsx","../../src/components/profile/ProfileHeader.tsx","../../src/components/profile/EnhancedProfileForm.tsx","../../src/components/profile/PersonalizationDashboard.tsx","../../src/components/profile/PersonalizationSettings.tsx","../../src/pages/UserProfile.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bookmark = createLucideIcon(\"Bookmark\", [\n  [\"path\", { d: \"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z\", key: \"1fy3hk\" }]\n]);\n\nexport { Bookmark as default };\n//# sourceMappingURL=bookmark.js.map\n","/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SlidersVertical = createLucideIcon(\"SlidersVertical\", [\n  [\"line\", { x1: \"4\", x2: \"4\", y1: \"21\", y2: \"14\", key: \"1p332r\" }],\n  [\"line\", { x1: \"4\", x2: \"4\", y1: \"10\", y2: \"3\", key: \"gb41h5\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"21\", y2: \"12\", key: \"hf2csr\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"3\", key: \"1kfi7u\" }],\n  [\"line\", { x1: \"20\", x2: \"20\", y1: \"21\", y2: \"16\", key: \"1lhrwl\" }],\n  [\"line\", { x1: \"20\", x2: \"20\", y1: \"12\", y2: \"3\", key: \"16vvfq\" }],\n  [\"line\", { x1: \"2\", x2: \"6\", y1: \"14\", y2: \"14\", key: \"1uebub\" }],\n  [\"line\", { x1: \"10\", x2: \"14\", y1: \"8\", y2: \"8\", key: \"1yglbp\" }],\n  [\"line\", { x1: \"18\", x2: \"22\", y1: \"16\", y2: \"16\", key: \"1jxqpz\" }]\n]);\n\nexport { SlidersVertical as default };\n//# sourceMappingURL=sliders-vertical.js.map\n","// src/use-is-hydrated.tsx\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nfunction useIsHydrated() {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  useIsHydrated\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useIsHydrated } from \"@radix-ui/react-use-is-hydrated\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, { referrerPolicy, crossOrigin }) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React.useState(\n    () => resolveLoadingStatus(image, src)\n  );\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect(() => {\n    const updateStatus = (status) => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n","\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\r\n\r\ninterface ProfileAvatarProps {\r\n  avatarUrl?: string | null;\r\n  fullName?: string | null;\r\n  userEmail?: string;\r\n  size?: \"sm\" | \"md\" | \"lg\";\r\n}\r\n\r\nexport const ProfileAvatar = ({ \r\n  avatarUrl, \r\n  fullName, \r\n  userEmail,\r\n  size = \"md\" \r\n}: ProfileAvatarProps) => {\r\n  const getInitials = () => {\r\n    if (fullName) {\r\n      return fullName\r\n        .split(' ')\r\n        .map(name => name[0])\r\n        .join('')\r\n        .toUpperCase();\r\n    }\r\n    return userEmail?.charAt(0).toUpperCase() || '?';\r\n  };\r\n\r\n  const sizeClasses = {\r\n    sm: \"h-12 w-12\",\r\n    md: \"h-16 w-16\",\r\n    lg: \"h-20 w-20\"\r\n  };\r\n\r\n  return (\r\n    <Avatar className={sizeClasses[size]}>\r\n      <AvatarImage src={avatarUrl || undefined} alt={fullName || \"User\"} />\r\n      <AvatarFallback className=\"text-lg bg-carbon-200 text-carbon-800 dark:bg-carbon-700 dark:text-carbon-300\">\r\n        {getInitials()}\r\n      </AvatarFallback>\r\n    </Avatar>\r\n  );\r\n};\r\n","\r\nimport { CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { ProfileAvatar } from \"./ProfileAvatar\";\r\n\r\ninterface ProfileHeaderProps {\r\n  fullName: string;\r\n  email: string;\r\n  avatarUrl?: string | null;\r\n}\r\n\r\nexport const ProfileHeader = ({ fullName, email, avatarUrl }: ProfileHeaderProps) => {\r\n  return (\r\n    <CardHeader className=\"pb-2 md:pb-6\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <ProfileAvatar\r\n          avatarUrl={avatarUrl}\r\n          fullName={fullName}\r\n          userEmail={email}\r\n        />\r\n        <div>\r\n          <CardTitle className=\"dark:text-carbon-300\">{fullName || email}</CardTitle>\r\n          <CardDescription className=\"dark:text-carbon-400\">{email}</CardDescription>\r\n        </div>\r\n      </div>\r\n    </CardHeader>\r\n  );\r\n};\r\n","\r\nimport { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Building2, User, Bell, Settings, Briefcase, Target } from \"lucide-react\";\r\n\r\nconst profileSchema = z.object({\r\n  full_name: z.string().min(2, \"Name must be at least 2 characters\"),\r\n  company_name: z.string().optional(),\r\n  role: z.string().optional(),\r\n  website: z.string().url().optional().or(z.literal(\"\")),\r\n  job_title: z.string().optional(),\r\n  industry: z.string().optional(),\r\n  years_experience: z.string().optional(),\r\n  project_size_preference: z.string().optional(),\r\n  focus_areas: z.array(z.string()).optional(),\r\n  notification_email: z.boolean().optional(),\r\n  notification_browser: z.boolean().optional(),\r\n  notification_reports: z.boolean().optional(),\r\n  preferred_units: z.string().optional(),\r\n  default_region: z.string().optional(),\r\n});\r\n\r\ntype ProfileFormData = z.infer<typeof profileSchema>;\r\n\r\ninterface EnhancedProfileFormProps {\r\n  profile: any;\r\n  onSubmit: (data: ProfileFormData) => Promise<void>;\r\n}\r\n\r\nconst INDUSTRIES = [\r\n  \"Construction & Building\",\r\n  \"Architecture\",\r\n  \"Engineering\",\r\n  \"Project Management\",\r\n  \"Sustainability Consulting\",\r\n  \"Real Estate Development\",\r\n  \"Government & Public Sector\",\r\n  \"Education & Research\",\r\n  \"Other\"\r\n];\r\n\r\nconst PROJECT_SIZES = [\r\n  \"Small (< $1M)\",\r\n  \"Medium ($1M - $10M)\",\r\n  \"Large ($10M - $50M)\",\r\n  \"Major ($50M+)\",\r\n  \"Mixed Portfolio\"\r\n];\r\n\r\nconst FOCUS_AREAS = [\r\n  \"Carbon Footprint Reduction\",\r\n  \"Green Star Certification\",\r\n  \"NABERS Rating\",\r\n  \"Material Sustainability\",\r\n  \"Energy Efficiency\",\r\n  \"Water Management\",\r\n  \"Waste Reduction\",\r\n  \"Indoor Air Quality\",\r\n  \"Renewable Energy Integration\"\r\n];\r\n\r\nexport const EnhancedProfileForm = ({ profile, onSubmit }: EnhancedProfileFormProps) => {\r\n  const [selectedFocusAreas, setSelectedFocusAreas] = useState<string[]>(\r\n    profile?.focus_areas || []\r\n  );\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    watch,\r\n    formState: { errors, isDirty }\r\n  } = useForm<ProfileFormData>({\r\n    resolver: zodResolver(profileSchema),\r\n    defaultValues: {\r\n      full_name: profile?.full_name || \"\",\r\n      company_name: profile?.company_name || \"\",\r\n      role: profile?.role || \"\",\r\n      website: profile?.website || \"\",\r\n      job_title: profile?.job_title || \"\",\r\n      industry: profile?.industry || \"\",\r\n      years_experience: profile?.years_experience || \"\",\r\n      project_size_preference: profile?.project_size_preference || \"\",\r\n      focus_areas: profile?.focus_areas || [],\r\n      notification_email: profile?.notification_email ?? true,\r\n      notification_browser: profile?.notification_browser ?? true,\r\n      notification_reports: profile?.notification_reports ?? true,\r\n      preferred_units: profile?.preferred_units || \"metric\",\r\n      default_region: profile?.default_region || \"Australia\",\r\n    }\r\n  });\r\n\r\n  const handleFormSubmit = async (data: ProfileFormData) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      await onSubmit({ ...data, focus_areas: selectedFocusAreas });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const toggleFocusArea = (area: string) => {\r\n    setSelectedFocusAreas(prev => \r\n      prev.includes(area) \r\n        ? prev.filter(a => a !== area)\r\n        : [...prev, area]\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-8\">\r\n      {/* Personal Information */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <User className=\"h-5 w-5\" />\r\n            Personal Information\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"full_name\">Full Name *</Label>\r\n              <Input\r\n                id=\"full_name\"\r\n                {...register(\"full_name\")}\r\n                placeholder=\"Enter your full name\"\r\n              />\r\n              {errors.full_name && (\r\n                <p className=\"text-sm text-red-500\">{errors.full_name.message}</p>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"job_title\">Job Title</Label>\r\n              <Input\r\n                id=\"job_title\"\r\n                {...register(\"job_title\")}\r\n                placeholder=\"e.g., Senior Project Manager\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"industry\">Industry</Label>\r\n              <Select onValueChange={(value) => setValue(\"industry\", value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select your industry\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {INDUSTRIES.map(industry => (\r\n                    <SelectItem key={industry} value={industry}>\r\n                      {industry}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"years_experience\">Years of Experience</Label>\r\n              <Select onValueChange={(value) => setValue(\"years_experience\", value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select experience level\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"0-2\">0-2 years</SelectItem>\r\n                  <SelectItem value=\"3-5\">3-5 years</SelectItem>\r\n                  <SelectItem value=\"6-10\">6-10 years</SelectItem>\r\n                  <SelectItem value=\"11-15\">11-15 years</SelectItem>\r\n                  <SelectItem value=\"16+\">16+ years</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Company Information */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-5 w-5\" />\r\n            Company Information\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"company_name\">Company Name</Label>\r\n              <Input\r\n                id=\"company_name\"\r\n                {...register(\"company_name\")}\r\n                placeholder=\"Enter your company name\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"role\">Role/Department</Label>\r\n              <Input\r\n                id=\"role\"\r\n                {...register(\"role\")}\r\n                placeholder=\"e.g., Sustainability, Operations\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"website\">Company Website</Label>\r\n            <Input\r\n              id=\"website\"\r\n              {...register(\"website\")}\r\n              placeholder=\"https://example.com\"\r\n              type=\"url\"\r\n            />\r\n            {errors.website && (\r\n              <p className=\"text-sm text-red-500\">{errors.website.message}</p>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Project Preferences */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Target className=\"h-5 w-5\" />\r\n            Project Preferences\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"project_size_preference\">Typical Project Size</Label>\r\n            <Select onValueChange={(value) => setValue(\"project_size_preference\", value)}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select typical project size\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {PROJECT_SIZES.map(size => (\r\n                  <SelectItem key={size} value={size}>\r\n                    {size}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <Label>Focus Areas</Label>\r\n            <p className=\"text-sm text-gray-600\">Select areas most relevant to your work:</p>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {FOCUS_AREAS.map(area => (\r\n                <Badge\r\n                  key={area}\r\n                  variant={selectedFocusAreas.includes(area) ? \"default\" : \"outline\"}\r\n                  className=\"cursor-pointer hover:bg-primary/10\"\r\n                  onClick={() => toggleFocusArea(area)}\r\n                >\r\n                  {area}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"preferred_units\">Preferred Units</Label>\r\n              <Select onValueChange={(value) => setValue(\"preferred_units\", value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select unit system\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"metric\">Metric (kg, m³, etc.)</SelectItem>\r\n                  <SelectItem value=\"imperial\">Imperial (lbs, ft³, etc.)</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"default_region\">Default Region</Label>\r\n              <Select onValueChange={(value) => setValue(\"default_region\", value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select default region\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"Australia\">Australia</SelectItem>\r\n                  <SelectItem value=\"New Zealand\">New Zealand</SelectItem>\r\n                  <SelectItem value=\"United States\">United States</SelectItem>\r\n                  <SelectItem value=\"United Kingdom\">United Kingdom</SelectItem>\r\n                  <SelectItem value=\"Canada\">Canada</SelectItem>\r\n                  <SelectItem value=\"Other\">Other</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Notification Preferences */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Bell className=\"h-5 w-5\" />\r\n            Notification Preferences\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label htmlFor=\"notification_email\">Email Notifications</Label>\r\n              <p className=\"text-sm text-gray-600\">Receive updates via email</p>\r\n            </div>\r\n            <Switch\r\n              id=\"notification_email\"\r\n              checked={watch(\"notification_email\")}\r\n              onCheckedChange={(checked) => setValue(\"notification_email\", checked)}\r\n            />\r\n          </div>\r\n\r\n          <Separator />\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label htmlFor=\"notification_browser\">Browser Notifications</Label>\r\n              <p className=\"text-sm text-gray-600\">Get notified in your browser</p>\r\n            </div>\r\n            <Switch\r\n              id=\"notification_browser\"\r\n              checked={watch(\"notification_browser\")}\r\n              onCheckedChange={(checked) => setValue(\"notification_browser\", checked)}\r\n            />\r\n          </div>\r\n\r\n          <Separator />\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label htmlFor=\"notification_reports\">Weekly Reports</Label>\r\n              <p className=\"text-sm text-gray-600\">Receive weekly sustainability insights</p>\r\n            </div>\r\n            <Switch\r\n              id=\"notification_reports\"\r\n              checked={watch(\"notification_reports\")}\r\n              onCheckedChange={(checked) => setValue(\"notification_reports\", checked)}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <div className=\"flex justify-end\">\r\n        <Button \r\n          type=\"submit\" \r\n          disabled={!isDirty || isSubmitting}\r\n          className=\"min-w-32\"\r\n        >\r\n          {isSubmitting ? \"Saving...\" : \"Save Changes\"}\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Button } from '@/components/ui/button';\r\nimport { \r\n  Target, \r\n  TrendingUp, \r\n  Award, \r\n  Calculator, \r\n  Bookmark,\r\n  AlertTriangle,\r\n  Settings,\r\n  BarChart3\r\n} from 'lucide-react';\r\n\r\ninterface PersonalizationDashboardProps {\r\n  profile: any;\r\n  calculationHistory: any[];\r\n  complianceAlerts: any[];\r\n  favoriteMaterials: any[];\r\n}\r\n\r\nexport const PersonalizationDashboard: React.FC<PersonalizationDashboardProps> = ({\r\n  profile,\r\n  calculationHistory,\r\n  complianceAlerts,\r\n  favoriteMaterials\r\n}) => {\r\n  const carbonGoals = profile?.carbon_footprint_goals || {};\r\n  const achievements = profile?.achievement_badges || [];\r\n  const quickTools = profile?.quick_access_tools || [];\r\n  \r\n  // Calculate carbon footprint progress\r\n  const monthlyTarget = carbonGoals.monthly_target || 0;\r\n  const currentMonthly = calculationHistory\r\n    .filter(calc => {\r\n      const calcDate = new Date(calc.created_at);\r\n      const now = new Date();\r\n      return calcDate.getMonth() === now.getMonth() && calcDate.getFullYear() === now.getFullYear();\r\n    })\r\n    .reduce((sum, calc) => sum + (calc.carbon_footprint || 0), 0);\r\n  \r\n  const progress = monthlyTarget > 0 ? Math.min((currentMonthly / monthlyTarget) * 100, 100) : 0;\r\n  \r\n  // Get recent calculations\r\n  const recentCalculations = calculationHistory\r\n    .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\r\n    .slice(0, 5);\r\n  \r\n  // Get active alerts\r\n  const activeAlerts = complianceAlerts.filter(alert => !alert.is_read);\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Carbon Footprint Tracking */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Target className=\"h-5 w-5\" />\r\n            Carbon Footprint Goals\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm font-medium\">Monthly Target</span>\r\n              <span className=\"text-sm text-muted-foreground\">\r\n                {currentMonthly.toFixed(1)} / {monthlyTarget} kg CO₂-e\r\n              </span>\r\n            </div>\r\n            <Progress value={progress} className=\"h-2\" />\r\n            <div className=\"flex justify-between text-xs text-muted-foreground\">\r\n              <span>Progress: {progress.toFixed(1)}%</span>\r\n              <span className={progress > 100 ? 'text-red-500' : 'text-green-500'}>\r\n                {progress > 100 ? 'Over target' : 'On track'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Quick Access Tools */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Calculator className=\"h-5 w-5\" />\r\n            Quick Access Tools\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n            {quickTools.length > 0 ? quickTools.map((tool, index) => (\r\n              <Button\r\n                key={index}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"justify-start\"\r\n              >\r\n                {tool}\r\n              </Button>\r\n            )) : (\r\n              <p className=\"text-sm text-muted-foreground col-span-full\">\r\n                Configure your quick access tools in settings\r\n              </p>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Compliance Alerts */}\r\n      {activeAlerts.length > 0 && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\r\n              Compliance Alerts\r\n              <Badge variant=\"destructive\" className=\"ml-auto\">\r\n                {activeAlerts.length}\r\n              </Badge>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {activeAlerts.slice(0, 3).map((alert) => (\r\n                <div key={alert.id} className=\"flex items-start gap-3 p-3 border rounded-lg\">\r\n                  <div className={`w-2 h-2 rounded-full mt-2 ${\r\n                    alert.severity === 'critical' ? 'bg-red-500' :\r\n                    alert.severity === 'warning' ? 'bg-orange-500' : 'bg-blue-500'\r\n                  }`} />\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium text-sm\">{alert.title}</h4>\r\n                    <p className=\"text-xs text-muted-foreground\">{alert.message}</p>\r\n                    {alert.related_standard && (\r\n                      <Badge variant=\"outline\" className=\"mt-1 text-xs\">\r\n                        {alert.related_standard.toUpperCase()}\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Recent Calculations */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <BarChart3 className=\"h-5 w-5\" />\r\n            Recent Calculations\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {recentCalculations.length > 0 ? recentCalculations.map((calc) => (\r\n              <div key={calc.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                <div>\r\n                  <div className=\"font-medium text-sm\">\r\n                    {calc.calculator_type.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                  </div>\r\n                  <div className=\"text-xs text-muted-foreground\">\r\n                    {new Date(calc.created_at).toLocaleDateString()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"font-medium text-sm\">\r\n                    {calc.carbon_footprint?.toFixed(1) || 'N/A'} kg CO₂-e\r\n                  </div>\r\n                  <Badge \r\n                    variant={calc.compliance_status === 'compliant' ? 'default' : 'destructive'}\r\n                    className=\"text-xs\"\r\n                  >\r\n                    {calc.compliance_status || 'unknown'}\r\n                  </Badge>\r\n                </div>\r\n              </div>\r\n            )) : (\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                No calculations yet. Start using the calculators to see your history here.\r\n              </p>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Favorite Materials */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Bookmark className=\"h-5 w-5\" />\r\n            Favorite Materials\r\n            <Badge variant=\"outline\" className=\"ml-auto\">\r\n              {favoriteMaterials.length}\r\n            </Badge>\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-2\">\r\n            {favoriteMaterials.length > 0 ? favoriteMaterials.slice(0, 5).map((fav) => (\r\n              <div key={fav.id} className=\"flex items-center justify-between p-2 border rounded\">\r\n                <div>\r\n                  <div className=\"font-medium text-sm\">{fav.material?.name || 'Unknown'}</div>\r\n                  <div className=\"text-xs text-muted-foreground\">{fav.category}</div>\r\n                </div>\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                  {fav.material?.carbon_footprint_kgco2e_kg?.toFixed(2) || 'N/A'} kg CO₂-e/kg\r\n                </div>\r\n              </div>\r\n            )) : (\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Add materials to favorites while using the material database.\r\n              </p>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Achievement Badges */}\r\n      {achievements.length > 0 && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Award className=\"h-5 w-5\" />\r\n              Achievements\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {achievements.map((badge, index) => (\r\n                <Badge key={index} variant=\"secondary\" className=\"flex items-center gap-1\">\r\n                  <Award className=\"h-3 w-3\" />\r\n                  {badge}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { Settings, Target, Calculator, Bell, Sliders } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\ninterface PersonalizationSettingsProps {\r\n  profile: any;\r\n  onUpdateSettings: (settings: any) => Promise<void>;\r\n}\r\n\r\nconst CALCULATOR_TOOLS = [\r\n  'LCA Calculator',\r\n  'Scope Calculator', \r\n  'LEED Calculator',\r\n  'BREEAM Calculator',\r\n  'Green Star Calculator',\r\n  'NABERS Calculator',\r\n  'NCC Calculator'\r\n];\r\n\r\nconst COMPLIANCE_STANDARDS = [\r\n  { value: 'ncc', label: 'NCC (National Construction Code)' },\r\n  { value: 'nabers', label: 'NABERS Rating' },\r\n  { value: 'green_star', label: 'Green Star Certification' },\r\n  { value: 'leed', label: 'LEED Certification' },\r\n  { value: 'breeam', label: 'BREEAM Assessment' }\r\n];\r\n\r\nexport const PersonalizationSettings: React.FC<PersonalizationSettingsProps> = ({\r\n  profile,\r\n  onUpdateSettings\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [quickTools, setQuickTools] = useState<string[]>(\r\n    profile?.quick_access_tools || []\r\n  );\r\n  const [carbonGoals, setCarbonGoals] = useState({\r\n    monthly_target: profile?.carbon_footprint_goals?.monthly_target || 0,\r\n    annual_target: profile?.carbon_footprint_goals?.annual_target || 0,\r\n    reduction_percentage: profile?.carbon_footprint_goals?.reduction_percentage || 0\r\n  });\r\n  const [complianceThresholds, setComplianceThresholds] = useState(\r\n    profile?.compliance_thresholds || {}\r\n  );\r\n  const [calculatorPrefs, setCalculatorPrefs] = useState({\r\n    auto_save_calculations: profile?.calculator_preferences?.auto_save_calculations ?? true,\r\n    show_advanced_options: profile?.calculator_preferences?.show_advanced_options ?? false,\r\n    default_calculator: profile?.calculator_preferences?.default_calculator || 'lca',\r\n    show_tooltips: profile?.calculator_preferences?.show_tooltips ?? true\r\n  });\r\n\r\n  const handleSaveSettings = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const updatedProfile = {\r\n        ...profile,\r\n        quick_access_tools: quickTools,\r\n        carbon_footprint_goals: carbonGoals,\r\n        compliance_thresholds: complianceThresholds,\r\n        calculator_preferences: calculatorPrefs\r\n      };\r\n      \r\n      await onUpdateSettings(updatedProfile);\r\n      toast.success('Personalization settings saved successfully');\r\n    } catch (error) {\r\n      console.error('Failed to save settings:', error);\r\n      toast.error('Failed to save settings');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleQuickTool = (tool: string) => {\r\n    setQuickTools(prev => \r\n      prev.includes(tool) \r\n        ? prev.filter(t => t !== tool)\r\n        : [...prev, tool]\r\n    );\r\n  };\r\n\r\n  const updateComplianceThreshold = (standard: string, value: string) => {\r\n    setComplianceThresholds(prev => ({\r\n      ...prev,\r\n      [standard]: parseFloat(value) || 0\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Carbon Footprint Goals */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Target className=\"h-5 w-5\" />\r\n            Carbon Footprint Goals\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"monthly_target\">Monthly Target (kg CO₂-e)</Label>\r\n              <Input\r\n                id=\"monthly_target\"\r\n                type=\"number\"\r\n                value={carbonGoals.monthly_target}\r\n                onChange={(e) => setCarbonGoals(prev => ({\r\n                  ...prev,\r\n                  monthly_target: parseFloat(e.target.value) || 0\r\n                }))}\r\n                placeholder=\"e.g., 1000\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"annual_target\">Annual Target (kg CO₂-e)</Label>\r\n              <Input\r\n                id=\"annual_target\"\r\n                type=\"number\"\r\n                value={carbonGoals.annual_target}\r\n                onChange={(e) => setCarbonGoals(prev => ({\r\n                  ...prev,\r\n                  annual_target: parseFloat(e.target.value) || 0\r\n                }))}\r\n                placeholder=\"e.g., 12000\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"reduction_percentage\">Target Reduction (%)</Label>\r\n              <Input\r\n                id=\"reduction_percentage\"\r\n                type=\"number\"\r\n                value={carbonGoals.reduction_percentage}\r\n                onChange={(e) => setCarbonGoals(prev => ({\r\n                  ...prev,\r\n                  reduction_percentage: parseFloat(e.target.value) || 0\r\n                }))}\r\n                placeholder=\"e.g., 20\"\r\n                max=\"100\"\r\n                min=\"0\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Quick Access Tools */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Calculator className=\"h-5 w-5\" />\r\n            Quick Access Tools\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Select calculators to show in your dashboard for quick access:\r\n            </p>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {CALCULATOR_TOOLS.map(tool => (\r\n                <Badge\r\n                  key={tool}\r\n                  variant={quickTools.includes(tool) ? \"default\" : \"outline\"}\r\n                  className=\"cursor-pointer hover:bg-primary/10\"\r\n                  onClick={() => toggleQuickTool(tool)}\r\n                >\r\n                  {tool}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Calculator Preferences */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Sliders className=\"h-5 w-5\" />\r\n            Calculator Preferences\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label>Auto-save Calculations</Label>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Automatically save calculation results to your history\r\n              </p>\r\n            </div>\r\n            <Switch\r\n              checked={calculatorPrefs.auto_save_calculations}\r\n              onCheckedChange={(checked) => setCalculatorPrefs(prev => ({\r\n                ...prev,\r\n                auto_save_calculations: checked\r\n              }))}\r\n            />\r\n          </div>\r\n\r\n          <Separator />\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label>Show Advanced Options</Label>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Display advanced settings in calculators by default\r\n              </p>\r\n            </div>\r\n            <Switch\r\n              checked={calculatorPrefs.show_advanced_options}\r\n              onCheckedChange={(checked) => setCalculatorPrefs(prev => ({\r\n                ...prev,\r\n                show_advanced_options: checked\r\n              }))}\r\n            />\r\n          </div>\r\n\r\n          <Separator />\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"space-y-0.5\">\r\n              <Label>Show Tooltips</Label>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Display helpful tooltips and guidance\r\n              </p>\r\n            </div>\r\n            <Switch\r\n              checked={calculatorPrefs.show_tooltips}\r\n              onCheckedChange={(checked) => setCalculatorPrefs(prev => ({\r\n                ...prev,\r\n                show_tooltips: checked\r\n              }))}\r\n            />\r\n          </div>\r\n\r\n          <Separator />\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label>Default Calculator</Label>\r\n            <Select \r\n              value={calculatorPrefs.default_calculator}\r\n              onValueChange={(value) => setCalculatorPrefs(prev => ({\r\n                ...prev,\r\n                default_calculator: value\r\n              }))}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select default calculator\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"lca\">LCA Calculator</SelectItem>\r\n                <SelectItem value=\"scope\">Scope Calculator</SelectItem>\r\n                <SelectItem value=\"green_star\">Green Star Calculator</SelectItem>\r\n                <SelectItem value=\"nabers\">NABERS Calculator</SelectItem>\r\n                <SelectItem value=\"ncc\">NCC Calculator</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Compliance Thresholds */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Bell className=\"h-5 w-5\" />\r\n            Compliance Alert Thresholds\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Set carbon footprint thresholds for different compliance standards:\r\n          </p>\r\n          \r\n          {COMPLIANCE_STANDARDS.map(standard => (\r\n            <div key={standard.value} className=\"grid grid-cols-2 gap-4 items-center\">\r\n              <Label>{standard.label}</Label>\r\n              <Input\r\n                type=\"number\"\r\n                value={complianceThresholds[standard.value] || ''}\r\n                onChange={(e) => updateComplianceThreshold(standard.value, e.target.value)}\r\n                placeholder=\"kg CO₂-e threshold\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Save Button */}\r\n      <div className=\"flex justify-end\">\r\n        <Button \r\n          onClick={handleSaveSettings}\r\n          disabled={isLoading}\r\n          className=\"min-w-32\"\r\n        >\r\n          {isLoading ? 'Saving...' : 'Save Settings'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","\r\nimport { useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { toast } from 'sonner';\r\nimport Navbar from \"@/components/Navbar\";\r\nimport Footer from \"@/components/Footer\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { useAuth } from '@/contexts/auth';\r\nimport ErrorBoundaryWrapper from \"@/components/error/ErrorBoundaryWrapper\";\r\nimport { ProfileHeader } from \"@/components/profile/ProfileHeader\";\r\nimport { EnhancedProfileForm } from \"@/components/profile/EnhancedProfileForm\";\r\nimport { PersonalizationDashboard } from \"@/components/profile/PersonalizationDashboard\";\r\nimport { PersonalizationSettings } from \"@/components/profile/PersonalizationSettings\";\r\nimport { usePersonalization } from \"@/hooks/usePersonalization\";\r\n\r\nconst UserProfile = () => {\r\n  const { user, profile, updateProfile } = useAuth();\r\n  const personalization = usePersonalization(user?.id);\r\n\r\n  const handleProfileUpdate = async (formData: any) => {\r\n    try {\r\n      if (!user?.id || !profile) {\r\n        throw new Error('User ID or profile not found');\r\n      }\r\n      \r\n      const updatedProfile = {\r\n        ...profile,\r\n        ...formData\r\n      };\r\n      \r\n      await updateProfile(updatedProfile);\r\n      toast.success(\"Profile updated successfully\");\r\n    } catch (error) {\r\n      console.error('Failed to update profile:', error);\r\n      toast.error(\"Failed to update profile\");\r\n    }\r\n  };\r\n\r\n  // Show loading state if user data is not yet available\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col bg-carbon-50 dark:bg-gray-900\">\r\n        <Navbar />\r\n        <div className=\"flex-grow flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-carbon-600\"></div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800\">\r\n      <Helmet>\r\n        <title>My Profile | CarbonConstruct</title>\r\n        <meta \r\n          name=\"description\" \r\n          content=\"Manage your CarbonConstruct account profile and preferences.\"\r\n        />\r\n      </Helmet>\r\n      \r\n      <Navbar />\r\n      \r\n      <main className=\"flex-grow content-top-spacing px-4 pb-12\">\r\n        <ErrorBoundaryWrapper feature=\"User Profile\">\r\n          <div className=\"container mx-auto max-w-4xl\">\r\n            <div className=\"mb-8\">\r\n              <h1 className=\"text-3xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent\">\r\n                My Profile\r\n              </h1>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                Manage your account settings and preferences to get the most out of CarbonConstruct.\r\n              </p>\r\n            </div>\r\n            \r\n            <Card className=\"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-gray-200 dark:border-gray-700\">\r\n              <ProfileHeader\r\n                fullName={profile?.full_name || ''}\r\n                email={user.email || ''}\r\n                avatarUrl={profile?.avatar_url}\r\n              />\r\n              <CardContent>\r\n                <Tabs defaultValue=\"dashboard\" className=\"w-full\">\r\n                  <TabsList className=\"grid w-full grid-cols-3 mb-6\">\r\n                    <TabsTrigger value=\"dashboard\">Dashboard</TabsTrigger>\r\n                    <TabsTrigger value=\"profile\">Profile</TabsTrigger>\r\n                    <TabsTrigger value=\"personalization\">Personalization</TabsTrigger>\r\n                  </TabsList>\r\n                  \r\n                  <TabsContent value=\"dashboard\" className=\"space-y-6\">\r\n                    <PersonalizationDashboard\r\n                      profile={profile}\r\n                      calculationHistory={personalization.calculationHistory}\r\n                      complianceAlerts={personalization.complianceAlerts}\r\n                      favoriteMaterials={personalization.favoriteMaterials}\r\n                    />\r\n                  </TabsContent>\r\n                  \r\n                  <TabsContent value=\"profile\" className=\"space-y-6\">\r\n                    <EnhancedProfileForm \r\n                      profile={profile!}\r\n                      onSubmit={handleProfileUpdate}\r\n                    />\r\n                  </TabsContent>\r\n                  \r\n                  <TabsContent value=\"personalization\" className=\"space-y-6\">\r\n                    <PersonalizationSettings\r\n                      profile={profile}\r\n                      onUpdateSettings={handleProfileUpdate}\r\n                    />\r\n                  </TabsContent>\r\n                </Tabs>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </ErrorBoundaryWrapper>\r\n      </main>\r\n      \r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"names":["Bookmark","createLucideIcon","SlidersVertical","useIsHydrated","useSyncExternalStore","subscribe","AVATAR_NAME","createAvatarContext","createAvatarScope","createContextScope","AvatarProvider","useAvatarContext","Avatar","React.forwardRef","props","forwardedRef","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","React.useState","jsx","Primitive","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","context","useImageLoadingStatus","handleLoadingStatusChange","useCallbackRef","status","useLayoutEffect","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","React.useEffect","timerId","resolveLoadingStatus","image","referrerPolicy","crossOrigin","isHydrated","imageRef","React.useRef","loadingStatus","setLoadingStatus","updateStatus","handleLoad","handleError","Root","Image","Fallback","className","ref","AvatarPrimitive.Root","cn","AvatarPrimitive.Image","AvatarPrimitive.Fallback","ProfileAvatar","avatarUrl","fullName","userEmail","size","getInitials","name","sizeClasses","jsxs","ProfileHeader","email","CardHeader","CardTitle","CardDescription","profileSchema","z.object","z.string","z.literal","z.array","z.boolean","INDUSTRIES","PROJECT_SIZES","FOCUS_AREAS","EnhancedProfileForm","profile","onSubmit","selectedFocusAreas","setSelectedFocusAreas","useState","isSubmitting","setIsSubmitting","register","handleSubmit","setValue","watch","errors","isDirty","useForm","zodResolver","handleFormSubmit","data","toggleFocusArea","area","prev","a","Card","User","CardContent","Label","Input","Select","value","SelectTrigger","SelectValue","SelectContent","industry","SelectItem","Building2","Target","Badge","Bell","Switch","checked","Separator","Button","PersonalizationDashboard","calculationHistory","complianceAlerts","favoriteMaterials","carbonGoals","achievements","quickTools","monthlyTarget","currentMonthly","calc","calcDate","now","sum","progress","recentCalculations","b","activeAlerts","alert","Progress","Calculator","tool","index","AlertTriangle","BarChart3","l","_a","fav","_c","_b","Award","badge","CALCULATOR_TOOLS","COMPLIANCE_STANDARDS","PersonalizationSettings","onUpdateSettings","isLoading","setIsLoading","setQuickTools","setCarbonGoals","complianceThresholds","setComplianceThresholds","calculatorPrefs","setCalculatorPrefs","_d","_e","_f","_g","handleSaveSettings","updatedProfile","toast","error","toggleQuickTool","t","updateComplianceThreshold","standard","e","Sliders","UserProfile","user","updateProfile","useAuth","personalization","usePersonalization","handleProfileUpdate","formData","Helmet","Navbar","ErrorBoundaryWrapper","Tabs","TabsList","TabsTrigger","TabsContent","Footer"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}