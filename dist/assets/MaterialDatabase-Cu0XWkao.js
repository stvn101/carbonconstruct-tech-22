import{r as n,a7 as A,a8 as f,j as e,a4 as v,a9 as $,m as I,aa as F,B as N,a1 as H,ab as V,ac as P,ad as W,b as C,c as _,d as U,ae as X,e as S,S as G,I as J,af as E,ag as L,ah as R,ai as z,aj as D,D as K,g as Q,N as Y,F as Z}from"./index-CHtXOOwB.js";import{R as ee}from"./recycle-BV78qFBO.js";const se={concrete:.13,steel:1.7,aluminum:8.4,timber:.4,glass:1.1,plastic:3.5,insulation:1.8,brick:.5},ae=Object.entries(se).reduce((s,[o,i])=>(s[o]={name:o,factor:i,unit:"kg",region:"Australia",tags:["construction"],sustainabilityScore:Math.floor(Math.random()*40)+60,recyclability:["High","Medium","Low"][Math.floor(Math.random()*3)],alternativeTo:void 0,notes:""},s),{}),te=()=>{const[s,o]=n.useState([]),[i,x]=n.useState(""),[c,j]=n.useState("all"),[d,m]=n.useState("all"),[g,y]=n.useState(!0),[b,p]=n.useState(null),u=n.useCallback(()=>{const h=A.startTimer("materials-initialization");try{f.info("Initializing simplified materials","UseSimplifiedMaterials"),y(!0),p(null);const r=Object.entries(ae).map(([l,a])=>({id:l,name:a.name,category:a.category||"general",carbon_footprint_kgco2e_kg:a.factor,factor:a.factor,unit:a.unit,region:a.region,tags:a.tags||[],sustainabilityScore:a.sustainabilityScore,recyclability:a.recyclability,alternativeTo:a.alternativeTo,notes:a.notes,scope1_emissions:a.factor*.6,scope2_emissions:a.factor*.2,scope3_emissions:a.factor*.2,environmental_impact_score:a.sustainabilityScore,carbon_intensity_category:a.factor<.1?"low":a.factor<.5?"medium":"high"}));o(r),f.debug("Materials initialized successfully","UseSimplifiedMaterials",{count:r.length})}catch(r){const l=r instanceof Error?r:new Error("Failed to initialize materials");f.error("Failed to initialize materials","UseSimplifiedMaterials",{error:l}),p(l)}finally{y(!1),h()}},[]);n.useEffect(()=>{u()},[u]);const w=n.useMemo(()=>{const h=A.startTimer("materials-filtering");try{let r=s;if(i.trim()){const l=i.toLowerCase().trim();r=r.filter(a=>{var T,k;return a.name.toLowerCase().includes(l)||((T=a.category)==null?void 0:T.toLowerCase().includes(l))||((k=a.tags)==null?void 0:k.some(q=>q.toLowerCase().includes(l)))})}return c!=="all"&&(r=r.filter(l=>l.category===c)),d!=="all"&&(r=r.filter(l=>{var a;return(a=l.tags)==null?void 0:a.includes(d)})),f.debug("Materials filtered","UseSimplifiedMaterials",{totalCount:s.length,filteredCount:r.length,searchTerm:i,selectedCategory:c,selectedTag:d}),r}finally{h()}},[s,i,c,d]),t=n.useMemo(()=>["all",...Array.from(new Set(s.map(r=>r.category).filter(Boolean))).sort()],[s]),M=n.useMemo(()=>{const h=s.flatMap(l=>l.tags||[]);return["all",...Array.from(new Set(h)).sort()]},[s]),O=n.useCallback(()=>{f.info("Refreshing materials data","UseSimplifiedMaterials"),u()},[u]),B=n.useCallback(()=>{f.debug("Resetting material filters","UseSimplifiedMaterials"),x(""),j("all"),m("all")},[]);return{allMaterials:s,filteredMaterials:w,searchTerm:i,setSearchTerm:x,selectedCategory:c,setSelectedCategory:j,selectedTag:d,setSelectedTag:m,loading:g,error:b,totalCount:s.length,refreshMaterials:O,resetFilters:B,categories:t,tags:M}},re=({recyclability:s,showIcon:o=!0,size:i="md",className:x=""})=>{if(!s)return null;const c=s.charAt(0).toUpperCase()+s.slice(1).toLowerCase(),d=(g=>{switch(g){case"High":return{color:"bg-green-100 text-green-800 border-green-200 hover:bg-green-100",emoji:"ðŸŸ¢",textColor:"text-green-700"};case"Medium":return{color:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-100",emoji:"ðŸŸ ",textColor:"text-orange-700"};case"Low":return{color:"bg-red-100 text-red-800 border-red-200 hover:bg-red-100",emoji:"ðŸ”´",textColor:"text-red-700"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-100",emoji:"âšª",textColor:"text-gray-700"}}})(c),m={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return e.jsxs(v,{className:`${d.color} ${m[i]} flex items-center gap-1 font-medium ${x}`,variant:"outline",children:[o&&e.jsx(ee,{className:"h-3 w-3"}),e.jsx("span",{children:d.emoji}),e.jsx("span",{children:c})]})},ie=({material:s})=>{var o,i;return e.jsxs(C,{className:"h-full hover:shadow-md transition-shadow",children:[e.jsxs(_,{className:"pb-3",children:[e.jsx(U,{className:"text-sm font-medium line-clamp-2",children:s.name}),e.jsxs(K,{className:"text-xs flex items-center justify-between",children:[e.jsxs("span",{children:[s.category," â€¢ ",s.region]}),e.jsx(re,{recyclability:s.recyclability,size:"sm",showIcon:!1})]})]}),e.jsxs(S,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Carbon Footprint:"}),e.jsxs("span",{className:"font-medium",children:[(s.carbon_footprint_kgco2e_kg||s.factor||0).toFixed(2)," kg COâ‚‚e/kg"]})]}),s.scope1_emissions&&e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Scope 1:"}),e.jsxs("span",{children:[s.scope1_emissions.toFixed(2)," kg COâ‚‚e"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Scope 2:"}),e.jsxs("span",{children:[(o=s.scope2_emissions)==null?void 0:o.toFixed(2)," kg COâ‚‚e"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Scope 3:"}),e.jsxs("span",{children:[(i=s.scope3_emissions)==null?void 0:i.toFixed(2)," kg COâ‚‚e"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sustainability Score:"}),e.jsx("span",{className:"font-medium",children:s.sustainabilityScore||s.environmental_impact_score||"N/A"})]}),s.carbon_intensity_category&&e.jsxs(v,{variant:s.carbon_intensity_category==="low"?"default":s.carbon_intensity_category==="medium"?"secondary":"destructive",className:"text-xs",children:[s.carbon_intensity_category," impact"]})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map((x,c)=>e.jsx(v,{variant:"outline",className:"text-xs",children:x},c)),s.tags.length>3&&e.jsxs(v,{variant:"outline",className:"text-xs",children:["+",s.tags.length-3]})]})]})]})},le=()=>{const{filteredMaterials:s,searchTerm:o,setSearchTerm:i,selectedCategory:x,setSelectedCategory:c,selectedTag:j,setSelectedTag:d,loading:m,error:g,totalCount:y,refreshMaterials:b,resetFilters:p,categories:u,tags:w}=te();return e.jsx($,{feature:"Simplified Material Database",children:e.jsxs(I.div,{className:"container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-lg bg-carbon-100",children:e.jsx(F,{className:"h-6 w-6 text-carbon-700"})})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Australian Materials Database"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Construction materials with traffic light recyclability system"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Total Materials: ",y]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Showing: ",s.length]}),e.jsx(N,{variant:"ghost",size:"sm",onClick:b,disabled:m,className:"ml-2",children:e.jsx(H,{className:`h-4 w-4 ${m?"animate-spin":""}`})})]})]}),g&&e.jsxs(V,{className:"mb-6",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs(W,{children:["Error loading materials: ",g.message,e.jsx(N,{variant:"outline",size:"sm",onClick:b,className:"ml-2",children:"Retry"})]})]}),e.jsxs(C,{className:"mb-6",children:[e.jsx(_,{children:e.jsxs(U,{className:"flex items-center text-lg",children:[e.jsx(X,{className:"h-5 w-5 mr-2"}),"Search & Filter"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(J,{placeholder:"Search materials...",value:o,onChange:t=>i(t.target.value),className:"pl-10"})]}),e.jsxs(E,{value:x,onValueChange:c,children:[e.jsx(L,{children:e.jsx(R,{placeholder:"Category"})}),e.jsx(z,{children:u.map(t=>e.jsx(D,{value:t,children:t==="all"?"All Categories":t},t))})]}),e.jsxs(E,{value:j,onValueChange:d,children:[e.jsx(L,{children:e.jsx(R,{placeholder:"Tag"})}),e.jsx(z,{children:w.map(t=>e.jsx(D,{value:t,children:t==="all"?"All Tags":t},t))})]}),e.jsx(N,{variant:"outline",onClick:p,children:"Reset Filters"})]})})]}),m?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:8}).map((t,M)=>e.jsxs(C,{className:"h-64 animate-pulse",children:[e.jsxs(_,{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})})]},M))}):s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(t=>e.jsx(ie,{material:t},t.id))}):e.jsx(C,{className:"text-center py-12",children:e.jsxs(S,{children:[e.jsx(F,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No materials found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search terms or filters"}),e.jsx(N,{onClick:p,children:"Reset Filters"})]})})]})})},ne=()=>e.jsx(le,{}),de=()=>{const{profile:s}=Q();return e.jsxs(I.div,{className:"min-h-screen flex flex-col",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[e.jsx(Y,{}),e.jsx("main",{className:"flex-grow pt-24 md:pt-32",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(ne,{})})}),e.jsx(Z,{})]})};export{de as default};
//# sourceMappingURL=MaterialDatabase-Cu0XWkao.js.map
