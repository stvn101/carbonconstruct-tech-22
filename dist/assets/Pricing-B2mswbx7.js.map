{"version":3,"file":"Pricing-B2mswbx7.js","sources":["../../src/components/pricing/BillingToggle.tsx","../../src/components/pricing/PricingHeader.tsx","../../src/components/pricing/PlanFeatures.tsx","../../src/components/pricing/PlanAction.tsx","../../src/components/pricing/PricingPlans.tsx","../../src/utils/pricingUtils.ts","../../src/pages/Pricing.tsx"],"sourcesContent":["\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { useTheme } from \"@/components/ThemeProvider\";\r\n\r\ninterface BillingToggleProps {\r\n  annual: boolean;\r\n  onChange: (value: boolean) => void;\r\n}\r\n\r\nconst BillingToggle = ({ annual, onChange }: BillingToggleProps) => {\r\n  const { theme } = useTheme();\r\n  \r\n  return (\r\n    <div className=\"flex items-center justify-center gap-3 mb-12\">\r\n      <span className={`text-sm font-medium ${annual ? 'text-foreground' : 'text-foreground/60'}`}>\r\n        Annual\r\n      </span>\r\n      <Switch\r\n        checked={!annual}\r\n        onCheckedChange={() => onChange(!annual)}\r\n        aria-label=\"Toggle billing cycle\"\r\n        className=\"data-[state=checked]:bg-carbon-600 data-[state=unchecked]:bg-carbon-400 dark:data-[state=checked]:bg-carbon-500 dark:data-[state=unchecked]:bg-carbon-700\"\r\n      />\r\n      <span className={`text-sm font-medium ${!annual ? 'text-foreground' : 'text-foreground/60'}`}>\r\n        Monthly\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BillingToggle;\r\n","\r\nimport { motion } from \"framer-motion\";\r\nimport BillingToggle from \"./BillingToggle\";\r\n\r\ninterface PricingHeaderProps {\r\n  annual: boolean;\r\n  onBillingChange: (value: boolean) => void;\r\n}\r\n\r\nconst PricingHeader = ({ annual, onBillingChange }: PricingHeaderProps) => {\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.6 }}\r\n      className=\"text-center max-w-3xl mx-auto mb-16\"\r\n    >\r\n      <h1 className=\"text-4xl md:text-5xl font-bold mb-6 gradient-heading\">\r\n        Transparent Pricing\r\n      </h1>\r\n      <p className=\"text-lg md:text-xl text-foreground/80 mb-10\">\r\n        Choose the plan that's right for your Australian construction business. All plans include our core carbon calculation engine.\r\n      </p>\r\n      \r\n      <BillingToggle annual={annual} onChange={onBillingChange} />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default PricingHeader;\r\n","\r\nimport { Check, X } from \"lucide-react\";\r\n\r\ninterface PlanFeaturesProps {\r\n  features: string[];\r\n  notIncluded: string[];\r\n}\r\n\r\nconst PlanFeatures = ({ features, notIncluded }: PlanFeaturesProps) => {\r\n  return (\r\n    <>\r\n      <h3 className=\"font-medium mb-3\">Includes:</h3>\r\n      <ul className=\"space-y-2\">\r\n        {features.map((feature) => (\r\n          <li key={feature} className=\"flex items-start\">\r\n            <Check className=\"h-5 w-5 text-carbon-500 mr-2 shrink-0\" />\r\n            <span className=\"text-sm\">{feature}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      \r\n      {notIncluded.length > 0 && (\r\n        <>\r\n          <h3 className=\"font-medium mb-3 mt-6\">Not included:</h3>\r\n          <ul className=\"space-y-2\">\r\n            {notIncluded.map((feature) => (\r\n              <li key={feature} className=\"flex items-start\">\r\n                <X className=\"h-5 w-5 text-foreground/30 mr-2 shrink-0\" />\r\n                <span className=\"text-sm text-foreground/60\">{feature}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlanFeatures;\r\n","\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ninterface PlanActionProps {\r\n  cta: string;\r\n  planId: string;\r\n  processing: string | null;\r\n  hadTrial: boolean;\r\n  isPopular: boolean;\r\n  onAction: (planId: string) => void;\r\n}\r\n\r\nconst PlanAction = ({ cta, planId, processing, hadTrial, isPopular, onAction }: PlanActionProps) => {\r\n  const navigate = useNavigate();\r\n\r\n  const handleClick = () => {\r\n    if (planId === 'enterprise') {\r\n      navigate('/contact', { state: { subject: 'Enterprise Plan Inquiry' } });\r\n    } else {\r\n      onAction(planId);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button \r\n        className=\"w-full\" \r\n        variant={isPopular ? \"default\" : \"outline\"}\r\n        onClick={handleClick}\r\n        disabled={!!processing && planId !== 'enterprise'}\r\n      >\r\n        {processing === planId && planId !== 'enterprise' ? (\r\n          <>\r\n            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n            Processing...\r\n          </>\r\n        ) : (\r\n          cta\r\n        )}\r\n      </Button>\r\n      {isPopular && !hadTrial && planId !== 'enterprise' && (\r\n        <p className=\"w-full text-xs text-center mt-2 text-green-600\">\r\n          Includes 3-day free trial\r\n        </p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlanAction;\r\n","\r\nimport { motion } from \"framer-motion\";\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { PricingPlan } from \"@/types/pricing\";\r\nimport PlanFeatures from \"./PlanFeatures\";\r\nimport PlanAction from \"./PlanAction\";\r\n\r\ninterface PricingPlansProps {\r\n  plans: PricingPlan[];\r\n  processing: string | null;\r\n  hadTrial: boolean;\r\n  onPlanAction: (planId: string) => void;\r\n}\r\n\r\nconst PricingPlans = ({ plans, processing, hadTrial, onPlanAction }: PricingPlansProps) => {\r\n  // Function to format price display\r\n  const formatPrice = (price: number, planId: string): string => {\r\n    if (planId === 'enterprise') {\r\n      return \"Price via negotiation\";\r\n    }\r\n    return `$${(price / 100).toFixed(2)}`;\r\n  };\r\n\r\n  // Function to determine billing period display\r\n  const getBillingPeriod = (price: number, planId: string): string => {\r\n    if (planId === 'enterprise') {\r\n      return \"\";\r\n    }\r\n    // If price is high enough to be annual (> $2000), show \"year\", otherwise \"month\"\r\n    return price >= 200000 ? '/year' : '/month';\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto\">\r\n      {plans.map((plan, index) => (\r\n        <motion.div\r\n          key={plan.id}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: index * 0.1 }}\r\n        >\r\n          <Card className={`h-full flex flex-col ${plan.popular ? 'border-carbon-500 shadow-lg shadow-carbon-100/20' : ''}`}>\r\n            {plan.popular && (\r\n              <div className=\"bg-carbon-500 text-white text-center py-1 text-sm font-medium\">\r\n                Most Popular\r\n              </div>\r\n            )}\r\n            <CardHeader>\r\n              <CardTitle className=\"text-2xl font-bold\">{plan.name}</CardTitle>\r\n              <div className=\"mt-4\">\r\n                {plan.id === 'enterprise' ? (\r\n                  <span className=\"text-2xl font-bold text-carbon-600\">Price via negotiation</span>\r\n                ) : (\r\n                  <>\r\n                    <span className=\"text-4xl font-bold\">{formatPrice(plan.price, plan.id)}</span>\r\n                    <span className=\"text-foreground/60 ml-2\">{getBillingPeriod(plan.price, plan.id)}</span>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <p className=\"text-foreground/80 mt-3 text-sm\">{plan.description}</p>\r\n            </CardHeader>\r\n            <CardContent className=\"flex-grow\">\r\n              <PlanFeatures features={plan.features} notIncluded={plan.notIncluded} />\r\n            </CardContent>\r\n            <CardFooter>\r\n              <PlanAction\r\n                cta={plan.cta}\r\n                planId={plan.id}\r\n                processing={processing}\r\n                hadTrial={hadTrial}\r\n                isPopular={plan.popular}\r\n                onAction={onPlanAction}\r\n              />\r\n            </CardFooter>\r\n          </Card>\r\n        </motion.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PricingPlans;\r\n","\r\nimport { PlanPrices, PricingPlan } from \"@/types/pricing\";\r\n\r\n// Define monthly prices in cents\r\nexport const monthlyPrices: PlanPrices = {\r\n  starter: 19900, // $199.00\r\n  professional: 54900, // $549.00\r\n  enterprise: 0 // Price via negotiation\r\n};\r\n\r\n// Calculate annual price (monthly x 12, no discount)\r\nexport const calculateAnnualPrice = (monthlyPrice: number, planId: string) => {\r\n  if (planId === 'enterprise') {\r\n    return 0; // Price via negotiation\r\n  }\r\n  return monthlyPrice * 12;\r\n};\r\n\r\n// Generate pricing plans based on billing cycle\r\nexport const generatePricingPlans = (annual: boolean): PricingPlan[] => {\r\n  return [\r\n    {\r\n      id: \"starter\",\r\n      name: \"Starter\",\r\n      price: annual ? calculateAnnualPrice(monthlyPrices.starter, 'starter') : monthlyPrices.starter,\r\n      description: \"Best for small construction firms just beginning their sustainability journey in Australia.\",\r\n      features: [\r\n        \"Carbon footprint calculation\",\r\n        \"Australian materials library\",\r\n        \"Single user access\",\r\n        \"Basic PDF reports\",\r\n        \"Email support response within 48h\"\r\n      ],\r\n      notIncluded: [\r\n        \"Team collaboration\",\r\n        \"API access\",\r\n        \"Custom reporting\",\r\n        \"Advanced analytics\",\r\n        \"Priority support\"\r\n      ],\r\n      cta: \"Get Started\",\r\n      popular: false\r\n    },\r\n    {\r\n      id: \"professional\",\r\n      name: \"Professional\",\r\n      price: annual ? calculateAnnualPrice(monthlyPrices.professional, 'professional') : monthlyPrices.professional,\r\n      description: \"Perfect for growing Australian construction companies ready to measure and reduce their carbon impact.\",\r\n      features: [\r\n        \"Everything in Starter\",\r\n        \"Up to 5 team members\",\r\n        \"Extended materials library\",\r\n        \"Project comparison tools\",\r\n        \"Custom reporting\",\r\n        \"Priority support (24h)\",\r\n        \"Monthly sustainability insights\"\r\n      ],\r\n      notIncluded: [\r\n        \"Enterprise integrations\",\r\n        \"White labeling\",\r\n        \"Dedicated account manager\"\r\n      ],\r\n      cta: \"Start Free Trial\",\r\n      popular: true\r\n    },\r\n    {\r\n      id: \"enterprise\",\r\n      name: \"Enterprise\",\r\n      price: 0, // Special handling for \"Price via negotiation\"\r\n      description: \"Complete solution for large Australian construction firms with complex sustainability needs.\",\r\n      features: [\r\n        \"Everything in Professional\",\r\n        \"Unlimited team members\",\r\n        \"Full API access\",\r\n        \"Custom integrations\",\r\n        \"White labeling options\",\r\n        \"Dedicated account manager\",\r\n        \"24/7 priority support\",\r\n        \"Australian compliance assistance\",\r\n        \"Advanced analytics dashboard\",\r\n        \"Custom training sessions\"\r\n      ],\r\n      notIncluded: [],\r\n      cta: \"Contact Sales\",\r\n      popular: false\r\n    }\r\n  ];\r\n};\r\n","\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { toast } from \"sonner\";\r\nimport { useAuth } from '@/contexts/auth';\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport Navbar from \"@/components/navbar/Navbar\";\r\nimport Footer from \"@/components/Footer\";\r\nimport PricingHeader from \"@/components/pricing/PricingHeader\";\r\nimport PricingPlans from \"@/components/pricing/PricingPlans\";\r\nimport PaymentSuccess from \"@/components/payment/PaymentSuccess\";\r\nimport { generatePricingPlans } from \"@/utils/pricingUtils\";\r\n\r\nconst Pricing = () => {\r\n  const [annual, setAnnual] = useState(true);\r\n  const [processing, setProcessing] = useState<string | null>(null);\r\n  const { user, profile } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [showPaymentSuccess, setShowPaymentSuccess] = useState(false);\r\n\r\n  const plans = generatePricingPlans(annual);\r\n\r\n  useEffect(() => {\r\n    // Check if we're coming back from a successful payment\r\n    const searchParams = new URLSearchParams(location.search);\r\n    if (searchParams.get('payment') === 'success') {\r\n      setShowPaymentSuccess(true);\r\n    }\r\n  }, [location.search]);\r\n\r\n  const handlePlanAction = async (planId: string) => {\r\n    if (!user) {\r\n      navigate('/auth', { state: { returnTo: '/pricing' } });\r\n      return;\r\n    }\r\n\r\n    if (profile?.subscription_tier === 'premium' && planId !== 'enterprise') {\r\n      toast.info(\"You already have a premium subscription.\");\r\n      return;\r\n    }\r\n\r\n    setProcessing(planId);\r\n    \r\n    try {\r\n      if (planId === 'enterprise') {\r\n        navigate('/contact', { state: { subject: 'Enterprise Plan Inquiry' } });\r\n        return;\r\n      }\r\n      \r\n      if (planId === 'professional') {\r\n        const { data, error } = await supabase.functions.invoke('create-payment-session', {\r\n          body: {\r\n            planName: planId,\r\n            action: 'trial'\r\n          }\r\n        });\r\n\r\n        if (error) {\r\n          throw new Error(error.message);\r\n        }\r\n\r\n        if (data.success && !data.url) {\r\n          toast.success(\"Your 3-day free trial has been activated!\");\r\n          navigate('/dashboard');\r\n          return;\r\n        }\r\n        \r\n        if (data.error && data.error.includes(\"already used your free trial\")) {\r\n          toast.info(\"You've already used your trial. Processing payment...\");\r\n        }\r\n      }\r\n\r\n      const { data, error } = await supabase.functions.invoke('create-payment-session', {\r\n        body: {\r\n          planName: planId,\r\n          purchaseType: annual ? 'annual' : 'monthly',\r\n          action: 'subscribe'\r\n        }\r\n      });\r\n\r\n      if (error) {\r\n        throw new Error(error.message);\r\n      }\r\n\r\n      if (data.success && data.url) {\r\n        // Redirect to Stripe checkout\r\n        window.location.href = data.url;\r\n      } else if (data.success) {\r\n        toast.success(\"Payment processed successfully!\");\r\n        navigate('/dashboard');\r\n      }\r\n    } catch (error: any) {\r\n      console.error(\"Payment error:\", error);\r\n      toast.error(error.message || \"There was an issue processing your request. Please try again.\");\r\n    } finally {\r\n      setProcessing(null);\r\n    }\r\n  };\r\n\r\n  if (showPaymentSuccess) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col\">\r\n        <Navbar />\r\n        <main className=\"flex-1 pt-24 px-4\">\r\n          <PaymentSuccess onClose={() => navigate('/dashboard', { replace: true })} />\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col\">\r\n      <Navbar />\r\n      <main className=\"flex-1 pt-24\">\r\n        <section className=\"py-16 md:py-24 container mx-auto px-4\">\r\n          <PricingHeader annual={annual} onBillingChange={setAnnual} />\r\n\r\n          <PricingPlans \r\n            plans={plans}\r\n            processing={processing}\r\n            hadTrial={!!profile?.had_trial}\r\n            onPlanAction={handlePlanAction}\r\n          />\r\n          \r\n          <motion.div \r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: 0.4 }}\r\n            className=\"mt-16 text-center max-w-3xl mx-auto\"\r\n          >\r\n            <h2 className=\"text-2xl font-bold mb-4\">Need a custom solution?</h2>\r\n            <p className=\"text-foreground/80 mb-6\">\r\n              We offer tailored packages for Australian enterprises with specific requirements. Our team will work with you to create a solution that meets your unique needs and complies with Australian standards.\r\n            </p>\r\n          </motion.div>\r\n        </section>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pricing;\r\n"],"names":["BillingToggle","annual","onChange","theme","useTheme","jsxs","jsx","Switch","PricingHeader","onBillingChange","motion","PlanFeatures","features","notIncluded","Fragment","feature","Check","X","PlanAction","cta","planId","processing","hadTrial","isPopular","onAction","navigate","useNavigate","handleClick","Button","Loader2","PricingPlans","plans","onPlanAction","formatPrice","price","getBillingPeriod","plan","index","Card","CardHeader","CardTitle","CardContent","CardFooter","monthlyPrices","calculateAnnualPrice","monthlyPrice","generatePricingPlans","Pricing","setAnnual","useState","setProcessing","user","profile","useAuth","location","useLocation","showPaymentSuccess","setShowPaymentSuccess","useEffect","handlePlanAction","toast","data","error","supabase","Navbar","PaymentSuccess","Footer"],"mappings":"uQASA,MAAMA,EAAgB,CAAC,CAAE,OAAAC,EAAQ,SAAAC,KAAmC,CAClE,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAA,EAElB,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,+CACb,SAAA,CAAAC,EAAAA,IAAC,QAAK,UAAW,uBAAuBL,EAAS,kBAAoB,oBAAoB,GAAI,SAAA,QAAA,CAE7F,EACAK,EAAAA,IAACC,EAAA,CACC,QAAS,CAACN,EACV,gBAAiB,IAAMC,EAAS,CAACD,CAAM,EACvC,aAAW,uBACX,UAAU,2JAAA,CAAA,EAEZK,EAAAA,IAAC,QAAK,UAAW,uBAAwBL,EAA6B,qBAApB,iBAAwC,GAAI,SAAA,SAAA,CAE9F,CAAA,EACF,CAEJ,ECnBMO,EAAgB,CAAC,CAAE,OAAAP,EAAQ,gBAAAQ,KAE7BJ,EAAAA,KAACK,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,SAAU,EAAA,EACxB,UAAU,sCAEV,SAAA,CAAAJ,EAAAA,IAAC,KAAA,CAAG,UAAU,uDAAuD,SAAA,sBAErE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,8CAA8C,SAAA,gIAE3D,EAEAA,EAAAA,IAACN,EAAA,CAAc,OAAAC,EAAgB,SAAUQ,CAAA,CAAiB,CAAA,CAAA,CAAA,EChB1DE,EAAe,CAAC,CAAE,SAAAC,EAAU,YAAAC,KAE9BR,EAAAA,KAAAS,WAAA,CACE,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,mBAAmB,SAAA,YAAS,EAC1CA,EAAAA,IAAC,KAAA,CAAG,UAAU,YACX,SAAAM,EAAS,IAAKG,GACbV,EAAAA,KAAC,KAAA,CAAiB,UAAU,mBAC1B,SAAA,CAAAC,EAAAA,IAACU,EAAA,CAAM,UAAU,uCAAA,CAAwC,EACzDV,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAW,SAAAS,CAAA,CAAQ,CAAA,GAF5BA,CAGT,CACD,EACH,EAECF,EAAY,OAAS,GACpBR,EAAAA,KAAAS,EAAAA,SAAA,CACE,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,gBAAa,EACnDA,EAAAA,IAAC,KAAA,CAAG,UAAU,YACX,SAAAO,EAAY,IAAKE,GAChBV,EAAAA,KAAC,KAAA,CAAiB,UAAU,mBAC1B,SAAA,CAAAC,EAAAA,IAACW,EAAA,CAAE,UAAU,0CAAA,CAA2C,EACxDX,EAAAA,IAAC,OAAA,CAAK,UAAU,6BAA8B,SAAAS,CAAA,CAAQ,CAAA,CAAA,EAF/CA,CAGT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EAEJ,ECpBEG,EAAa,CAAC,CAAE,IAAAC,EAAK,OAAAC,EAAQ,WAAAC,EAAY,SAAAC,EAAU,UAAAC,EAAW,SAAAC,KAAgC,CAClG,MAAMC,EAAWC,EAAA,EAEXC,EAAc,IAAM,CACpBP,IAAW,aACbK,EAAS,WAAY,CAAE,MAAO,CAAE,QAAS,yBAAA,EAA6B,EAEtED,EAASJ,CAAM,CAEnB,EAEA,OACEf,EAAAA,KAAAS,WAAA,CACE,SAAA,CAAAR,EAAAA,IAACsB,EAAA,CACC,UAAU,SACV,QAASL,EAAY,UAAY,UACjC,QAASI,EACT,SAAU,CAAC,CAACN,GAAcD,IAAW,aAEpC,SAAAC,IAAeD,GAAUA,IAAW,aACnCf,OAAAS,EAAAA,SAAA,CACE,SAAA,CAAAR,EAAAA,IAACuB,EAAA,CAAQ,UAAU,2BAAA,CAA4B,EAAE,eAAA,CAAA,CAEnD,EAEAV,CAAA,CAAA,EAGHI,GAAa,CAACD,GAAYF,IAAW,cACpCd,EAAAA,IAAC,IAAA,CAAE,UAAU,iDAAiD,SAAA,2BAAA,CAE9D,CAAA,EAEJ,CAEJ,ECnCMwB,EAAe,CAAC,CAAE,MAAAC,EAAO,WAAAV,EAAY,SAAAC,EAAU,aAAAU,KAAsC,CAEzF,MAAMC,EAAc,CAACC,EAAed,IAC9BA,IAAW,aACN,wBAEF,KAAKc,EAAQ,KAAK,QAAQ,CAAC,CAAC,GAI/BC,EAAmB,CAACD,EAAed,IACnCA,IAAW,aACN,GAGFc,GAAS,IAAS,QAAU,SAGrC,OACE5B,MAAC,OAAI,UAAU,8CACZ,WAAM,IAAI,CAAC8B,EAAMC,IAChB/B,EAAAA,IAACI,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,SAAU,GAAK,MAAO2B,EAAQ,EAAA,EAE5C,SAAAhC,EAAAA,KAACiC,GAAK,UAAW,wBAAwBF,EAAK,QAAU,mDAAqD,EAAE,GAC5G,SAAA,CAAAA,EAAK,SACJ9B,EAAAA,IAAC,MAAA,CAAI,UAAU,gEAAgE,SAAA,eAE/E,SAEDiC,EAAA,CACC,SAAA,CAAAjC,EAAAA,IAACkC,EAAA,CAAU,UAAU,qBAAsB,SAAAJ,EAAK,KAAK,EACrD9B,MAAC,MAAA,CAAI,UAAU,OACZ,SAAA8B,EAAK,KAAO,aACX9B,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,uBAAA,CAAqB,EAE1ED,EAAAA,KAAAS,WAAA,CACE,SAAA,CAAAR,EAAAA,IAAC,OAAA,CAAK,UAAU,qBAAsB,SAAA2B,EAAYG,EAAK,MAAOA,EAAK,EAAE,CAAA,CAAE,EACvE9B,EAAAA,IAAC,QAAK,UAAU,0BAA2B,WAAiB8B,EAAK,MAAOA,EAAK,EAAE,CAAA,CAAE,CAAA,CAAA,CACnF,CAAA,CAEJ,EACA9B,EAAAA,IAAC,IAAA,CAAE,UAAU,kCAAmC,WAAK,WAAA,CAAY,CAAA,EACnE,EACAA,EAAAA,IAACmC,EAAA,CAAY,UAAU,YACrB,SAAAnC,EAAAA,IAACK,EAAA,CAAa,SAAUyB,EAAK,SAAU,YAAaA,EAAK,WAAA,CAAa,EACxE,QACCM,EAAA,CACC,SAAApC,EAAAA,IAACY,EAAA,CACC,IAAKkB,EAAK,IACV,OAAQA,EAAK,GACb,WAAAf,EACA,SAAAC,EACA,UAAWc,EAAK,QAChB,SAAUJ,CAAA,CAAA,CACZ,CACF,CAAA,CAAA,CACF,CAAA,EAtCKI,EAAK,EAAA,CAwCb,EACH,CAEJ,EC3EaO,EAA4B,CACvC,QAAS,MACT,aAAc,KAEhB,EAGaC,EAAuB,CAACC,EAAsBzB,IACrDA,IAAW,aACN,EAEFyB,EAAe,GAIXC,EAAwB7C,GAC5B,CACL,CACE,GAAI,UACJ,KAAM,UACN,MAAOA,EAAS2C,EAAqBD,EAAc,QAAS,SAAS,EAAIA,EAAc,QACvF,YAAa,8FACb,SAAU,CACR,+BACA,+BACA,qBACA,oBACA,mCAAA,EAEF,YAAa,CACX,qBACA,aACA,mBACA,qBACA,kBAAA,EAEF,IAAK,cACL,QAAS,EAAA,EAEX,CACE,GAAI,eACJ,KAAM,eACN,MAAO1C,EAAS2C,EAAqBD,EAAc,aAAc,cAAc,EAAIA,EAAc,aACjG,YAAa,yGACb,SAAU,CACR,wBACA,uBACA,6BACA,2BACA,mBACA,yBACA,iCAAA,EAEF,YAAa,CACX,0BACA,iBACA,2BAAA,EAEF,IAAK,mBACL,QAAS,EAAA,EAEX,CACE,GAAI,aACJ,KAAM,aACN,MAAO,EACP,YAAa,+FACb,SAAU,CACR,6BACA,yBACA,kBACA,sBACA,yBACA,4BACA,wBACA,mCACA,+BACA,0BAAA,EAEF,YAAa,CAAA,EACb,IAAK,gBACL,QAAS,EAAA,CACX,ECvEEI,EAAU,IAAM,CACpB,KAAM,CAAC9C,EAAQ+C,CAAS,EAAIC,EAAAA,SAAS,EAAI,EACnC,CAAC5B,EAAY6B,CAAa,EAAID,EAAAA,SAAwB,IAAI,EAC1D,CAAE,KAAAE,EAAM,QAAAC,CAAA,EAAYC,EAAA,EACpB5B,EAAWC,EAAA,EACX4B,EAAWC,EAAA,EACX,CAACC,EAAoBC,CAAqB,EAAIR,EAAAA,SAAS,EAAK,EAE5DlB,EAAQe,EAAqB7C,CAAM,EAEzCyD,EAAAA,UAAU,IAAM,CAEO,IAAI,gBAAgBJ,EAAS,MAAM,EACvC,IAAI,SAAS,IAAM,WAClCG,EAAsB,EAAI,CAE9B,EAAG,CAACH,EAAS,MAAM,CAAC,EAEpB,MAAMK,EAAmB,MAAOvC,GAAmB,CACjD,GAAI,CAAC+B,EAAM,CACT1B,EAAS,QAAS,CAAE,MAAO,CAAE,SAAU,UAAA,EAAc,EACrD,MACF,CAEA,IAAI2B,GAAA,YAAAA,EAAS,qBAAsB,WAAahC,IAAW,aAAc,CACvEwC,EAAM,KAAK,0CAA0C,EACrD,MACF,CAEAV,EAAc9B,CAAM,EAEpB,GAAI,CACF,GAAIA,IAAW,aAAc,CAC3BK,EAAS,WAAY,CAAE,MAAO,CAAE,QAAS,yBAAA,EAA6B,EACtE,MACF,CAEA,GAAIL,IAAW,eAAgB,CAC7B,KAAM,CAAE,KAAAyC,EAAM,MAAAC,GAAU,MAAMC,EAAS,UAAU,OAAO,yBAA0B,CAChF,KAAM,CACJ,SAAU3C,EACV,OAAQ,OAAA,CACV,CACD,EAED,GAAI0C,EACF,MAAM,IAAI,MAAMA,EAAM,OAAO,EAG/B,GAAID,EAAK,SAAW,CAACA,EAAK,IAAK,CAC7BD,EAAM,QAAQ,2CAA2C,EACzDnC,EAAS,YAAY,EACrB,MACF,CAEIoC,EAAK,OAASA,EAAK,MAAM,SAAS,8BAA8B,GAClED,EAAM,KAAK,uDAAuD,CAEtE,CAEA,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAA,EAAU,MAAMC,EAAS,UAAU,OAAO,yBAA0B,CAChF,KAAM,CACJ,SAAU3C,EACV,aAAcnB,EAAS,SAAW,UAClC,OAAQ,WAAA,CACV,CACD,EAED,GAAI6D,EACF,MAAM,IAAI,MAAMA,EAAM,OAAO,EAG3BD,EAAK,SAAWA,EAAK,IAEvB,OAAO,SAAS,KAAOA,EAAK,IACnBA,EAAK,UACdD,EAAM,QAAQ,iCAAiC,EAC/CnC,EAAS,YAAY,EAEzB,OAASqC,EAAY,CACnB,QAAQ,MAAM,iBAAkBA,CAAK,EACrCF,EAAM,MAAME,EAAM,SAAW,+DAA+D,CAC9F,QAAA,CACEZ,EAAc,IAAI,CACpB,CACF,EAEA,OAAIM,EAEAnD,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,EAAAA,IAAC0D,EAAA,EAAO,EACR1D,EAAAA,IAAC,OAAA,CAAK,UAAU,oBACd,eAAC2D,EAAA,CAAe,QAAS,IAAMxC,EAAS,aAAc,CAAE,QAAS,EAAA,CAAM,EAAG,EAC5E,QACCyC,EAAA,CAAA,CAAO,CAAA,EACV,EAKF7D,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,EAAAA,IAAC0D,EAAA,EAAO,QACP,OAAA,CAAK,UAAU,eACd,SAAA3D,EAAAA,KAAC,UAAA,CAAQ,UAAU,wCACjB,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAc,OAAAP,EAAgB,gBAAiB+C,CAAA,CAAW,EAE3D1C,EAAAA,IAACwB,EAAA,CACC,MAAAC,EACA,WAAAV,EACA,SAAU,CAAC,EAAC+B,GAAA,MAAAA,EAAS,WACrB,aAAcO,CAAA,CAAA,EAGhBtD,EAAAA,KAACK,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,SAAU,GAAK,MAAO,EAAA,EACpC,UAAU,sCAEV,SAAA,CAAAJ,EAAAA,IAAC,KAAA,CAAG,UAAU,0BAA0B,SAAA,0BAAuB,EAC/DA,EAAAA,IAAC,IAAA,CAAE,UAAU,0BAA0B,SAAA,yMAAA,CAEvC,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CACF,QACC4D,EAAA,CAAA,CAAO,CAAA,EACV,CAEJ"}