import{w as ae,r as y,j as e,ay as ye,az as V,aA as ve,aB as O,l as G,c as N,d as _,D as pe,b,U as Ne,e as f,aC as m,I as k,af as F,ag as E,ah as T,ai as R,aj as j,E as _e,a4 as A,aw as te,B as q,aD as be,z as ne,a5 as fe,R as Ce,Q as J,i as I,g as we,N as X,F as ee,H as Se,a9 as ke,V as Ae,W as Fe,Y as U,Z as z}from"./index-CHtXOOwB.js";import{s as Ee}from"./index-2Z0Ev104.js";import{u as Te,t as Re,o as Pe,s as w,b as B,a as Le,l as Me}from"./types-CyST8ZDJ.js";import{S as P}from"./switch-Cz-4Jc-7.js";import{S as L}from"./separator-BpvyT6Sm.js";import{T as $}from"./target-BPcT1qj9.js";import{u as Ie}from"./usePersonalization-DKPi6Nos.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ae("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);function ze(){return Ee.useSyncExternalStore(Be,()=>!0,()=>!1)}function Be(){return()=>{}}var H="Avatar",[Oe,is]=ye(H),[Ve,re]=Oe(H),ce=y.forwardRef((s,a)=>{const{__scopeAvatar:c,...i}=s,[d,l]=y.useState("idle");return e.jsx(Ve,{scope:c,imageLoadingStatus:d,onImageLoadingStatusChange:l,children:e.jsx(V.span,{...i,ref:a})})});ce.displayName=H;var le="AvatarImage",ie=y.forwardRef((s,a)=>{const{__scopeAvatar:c,src:i,onLoadingStatusChange:d=()=>{},...l}=s,o=re(le,c),g=Ge(i,l),x=ve(v=>{d(v),o.onImageLoadingStatusChange(v)});return O(()=>{g!=="idle"&&x(g)},[g,x]),g==="loaded"?e.jsx(V.img,{...l,ref:a,src:i}):null});ie.displayName=le;var oe="AvatarFallback",de=y.forwardRef((s,a)=>{const{__scopeAvatar:c,delayMs:i,...d}=s,l=re(oe,c),[o,g]=y.useState(i===void 0);return y.useEffect(()=>{if(i!==void 0){const x=window.setTimeout(()=>g(!0),i);return()=>window.clearTimeout(x)}},[i]),o&&l.imageLoadingStatus!=="loaded"?e.jsx(V.span,{...d,ref:a}):null});de.displayName=oe;function se(s,a){return s?a?(s.src!==a&&(s.src=a),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ge(s,{referrerPolicy:a,crossOrigin:c}){const i=ze(),d=y.useRef(null),l=i?(d.current||(d.current=new window.Image),d.current):null,[o,g]=y.useState(()=>se(l,s));return O(()=>{g(se(l,s))},[l,s]),O(()=>{const x=C=>()=>{g(C)};if(!l)return;const v=x("loaded"),p=x("error");return l.addEventListener("load",v),l.addEventListener("error",p),a&&(l.referrerPolicy=a),typeof c=="string"&&(l.crossOrigin=c),()=>{l.removeEventListener("load",v),l.removeEventListener("error",p)}},[l,c,a]),o}var xe=ce,me=ie,he=de;const ue=y.forwardRef(({className:s,...a},c)=>e.jsx(xe,{ref:c,className:G("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));ue.displayName=xe.displayName;const je=y.forwardRef(({className:s,...a},c)=>e.jsx(me,{ref:c,className:G("aspect-square h-full w-full",s),...a}));je.displayName=me.displayName;const ge=y.forwardRef(({className:s,...a},c)=>e.jsx(he,{ref:c,className:G("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));ge.displayName=he.displayName;const qe=({avatarUrl:s,fullName:a,userEmail:c,size:i="md"})=>{const d=()=>a?a.split(" ").map(o=>o[0]).join("").toUpperCase():(c==null?void 0:c.charAt(0).toUpperCase())||"?",l={sm:"h-12 w-12",md:"h-16 w-16",lg:"h-20 w-20"};return e.jsxs(ue,{className:l[i],children:[e.jsx(je,{src:s||void 0,alt:a||"User"}),e.jsx(ge,{className:"text-lg bg-carbon-200 text-carbon-800 dark:bg-carbon-700 dark:text-carbon-300",children:d()})]})},$e=({fullName:s,email:a,avatarUrl:c})=>e.jsx(N,{className:"pb-2 md:pb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(qe,{avatarUrl:c,fullName:s,userEmail:a}),e.jsxs("div",{children:[e.jsx(_,{className:"dark:text-carbon-300",children:s||a}),e.jsx(pe,{className:"dark:text-carbon-400",children:a})]})]})}),He=Pe({full_name:w().min(2,"Name must be at least 2 characters"),company_name:w().optional(),role:w().optional(),website:w().url().optional().or(Me("")),job_title:w().optional(),industry:w().optional(),years_experience:w().optional(),project_size_preference:w().optional(),focus_areas:Le(w()).optional(),notification_email:B().optional(),notification_browser:B().optional(),notification_reports:B().optional(),preferred_units:w().optional(),default_region:w().optional()}),We=["Construction & Building","Architecture","Engineering","Project Management","Sustainability Consulting","Real Estate Development","Government & Public Sector","Education & Research","Other"],Qe=["Small (< $1M)","Medium ($1M - $10M)","Large ($10M - $50M)","Major ($50M+)","Mixed Portfolio"],Ye=["Carbon Footprint Reduction","Green Star Certification","NABERS Rating","Material Sustainability","Energy Efficiency","Water Management","Waste Reduction","Indoor Air Quality","Renewable Energy Integration"],Ze=({profile:s,onSubmit:a})=>{const[c,i]=y.useState((s==null?void 0:s.focus_areas)||[]),[d,l]=y.useState(!1),{register:o,handleSubmit:g,setValue:x,watch:v,formState:{errors:p,isDirty:C}}=Te({resolver:Re(He),defaultValues:{full_name:(s==null?void 0:s.full_name)||"",company_name:(s==null?void 0:s.company_name)||"",role:(s==null?void 0:s.role)||"",website:(s==null?void 0:s.website)||"",job_title:(s==null?void 0:s.job_title)||"",industry:(s==null?void 0:s.industry)||"",years_experience:(s==null?void 0:s.years_experience)||"",project_size_preference:(s==null?void 0:s.project_size_preference)||"",focus_areas:(s==null?void 0:s.focus_areas)||[],notification_email:(s==null?void 0:s.notification_email)??!0,notification_browser:(s==null?void 0:s.notification_browser)??!0,notification_reports:(s==null?void 0:s.notification_reports)??!0,preferred_units:(s==null?void 0:s.preferred_units)||"metric",default_region:(s==null?void 0:s.default_region)||"Australia"}}),n=async t=>{l(!0);try{await a({...t,focus_areas:c})}finally{l(!1)}},u=t=>{i(S=>S.includes(t)?S.filter(M=>M!==t):[...S,t])};return e.jsxs("form",{onSubmit:g(n),className:"space-y-8",children:[e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Personal Information"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"full_name",children:"Full Name *"}),e.jsx(k,{id:"full_name",...o("full_name"),placeholder:"Enter your full name"}),p.full_name&&e.jsx("p",{className:"text-sm text-red-500",children:p.full_name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"job_title",children:"Job Title"}),e.jsx(k,{id:"job_title",...o("job_title"),placeholder:"e.g., Senior Project Manager"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"industry",children:"Industry"}),e.jsxs(F,{onValueChange:t=>x("industry",t),children:[e.jsx(E,{children:e.jsx(T,{placeholder:"Select your industry"})}),e.jsx(R,{children:We.map(t=>e.jsx(j,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"years_experience",children:"Years of Experience"}),e.jsxs(F,{onValueChange:t=>x("years_experience",t),children:[e.jsx(E,{children:e.jsx(T,{placeholder:"Select experience level"})}),e.jsxs(R,{children:[e.jsx(j,{value:"0-2",children:"0-2 years"}),e.jsx(j,{value:"3-5",children:"3-5 years"}),e.jsx(j,{value:"6-10",children:"6-10 years"}),e.jsx(j,{value:"11-15",children:"11-15 years"}),e.jsx(j,{value:"16+",children:"16+ years"})]})]})]})]})]})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-5 w-5"}),"Company Information"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"company_name",children:"Company Name"}),e.jsx(k,{id:"company_name",...o("company_name"),placeholder:"Enter your company name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"role",children:"Role/Department"}),e.jsx(k,{id:"role",...o("role"),placeholder:"e.g., Sustainability, Operations"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"website",children:"Company Website"}),e.jsx(k,{id:"website",...o("website"),placeholder:"https://example.com",type:"url"}),p.website&&e.jsx("p",{className:"text-sm text-red-500",children:p.website.message})]})]})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Project Preferences"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"project_size_preference",children:"Typical Project Size"}),e.jsxs(F,{onValueChange:t=>x("project_size_preference",t),children:[e.jsx(E,{children:e.jsx(T,{placeholder:"Select typical project size"})}),e.jsx(R,{children:Qe.map(t=>e.jsx(j,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{children:"Focus Areas"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select areas most relevant to your work:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ye.map(t=>e.jsx(A,{variant:c.includes(t)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>u(t),children:t},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"preferred_units",children:"Preferred Units"}),e.jsxs(F,{onValueChange:t=>x("preferred_units",t),children:[e.jsx(E,{children:e.jsx(T,{placeholder:"Select unit system"})}),e.jsxs(R,{children:[e.jsx(j,{value:"metric",children:"Metric (kg, m³, etc.)"}),e.jsx(j,{value:"imperial",children:"Imperial (lbs, ft³, etc.)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"default_region",children:"Default Region"}),e.jsxs(F,{onValueChange:t=>x("default_region",t),children:[e.jsx(E,{children:e.jsx(T,{placeholder:"Select default region"})}),e.jsxs(R,{children:[e.jsx(j,{value:"Australia",children:"Australia"}),e.jsx(j,{value:"New Zealand",children:"New Zealand"}),e.jsx(j,{value:"United States",children:"United States"}),e.jsx(j,{value:"United Kingdom",children:"United Kingdom"}),e.jsx(j,{value:"Canada",children:"Canada"}),e.jsx(j,{value:"Other",children:"Other"})]})]})]})]})]})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Notification Preferences"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{htmlFor:"notification_email",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),e.jsx(P,{id:"notification_email",checked:v("notification_email"),onCheckedChange:t=>x("notification_email",t)})]}),e.jsx(L,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{htmlFor:"notification_browser",children:"Browser Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified in your browser"})]}),e.jsx(P,{id:"notification_browser",checked:v("notification_browser"),onCheckedChange:t=>x("notification_browser",t)})]}),e.jsx(L,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{htmlFor:"notification_reports",children:"Weekly Reports"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive weekly sustainability insights"})]}),e.jsx(P,{id:"notification_reports",checked:v("notification_reports"),onCheckedChange:t=>x("notification_reports",t)})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{type:"submit",disabled:!C||d,className:"min-w-32",children:d?"Saving...":"Save Changes"})})]})},Ke=({profile:s,calculationHistory:a,complianceAlerts:c,favoriteMaterials:i})=>{const d=(s==null?void 0:s.carbon_footprint_goals)||{},l=(s==null?void 0:s.achievement_badges)||[],o=(s==null?void 0:s.quick_access_tools)||[],g=d.monthly_target||0,x=a.filter(n=>{const u=new Date(n.created_at),t=new Date;return u.getMonth()===t.getMonth()&&u.getFullYear()===t.getFullYear()}).reduce((n,u)=>n+(u.carbon_footprint||0),0),v=g>0?Math.min(x/g*100,100):0,p=a.sort((n,u)=>new Date(u.created_at).getTime()-new Date(n.created_at).getTime()).slice(0,5),C=c.filter(n=>!n.is_read);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Carbon Footprint Goals"]})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Monthly Target"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.toFixed(1)," / ",g," kg CO₂-e"]})]}),e.jsx(be,{value:v,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Progress: ",v.toFixed(1),"%"]}),e.jsx("span",{className:v>100?"text-red-500":"text-green-500",children:v>100?"Over target":"On track"})]})]})})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Quick Access Tools"]})}),e.jsx(f,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.length>0?o.map((n,u)=>e.jsx(q,{variant:"outline",size:"sm",className:"justify-start",children:n},u)):e.jsx("p",{className:"text-sm text-muted-foreground col-span-full",children:"Configure your quick access tools in settings"})})})]}),C.length>0&&e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5 text-orange-500"}),"Compliance Alerts",e.jsx(A,{variant:"destructive",className:"ml-auto",children:C.length})]})}),e.jsx(f,{children:e.jsx("div",{className:"space-y-3",children:C.slice(0,3).map(n=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n.severity==="critical"?"bg-red-500":n.severity==="warning"?"bg-orange-500":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm",children:n.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.message}),n.related_standard&&e.jsx(A,{variant:"outline",className:"mt-1 text-xs",children:n.related_standard.toUpperCase()})]})]},n.id))})})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"Recent Calculations"]})}),e.jsx(f,{children:e.jsx("div",{className:"space-y-3",children:p.length>0?p.map(n=>{var u;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:n.calculator_type.replace("_"," ").replace(/\b\w/g,t=>t.toUpperCase())}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-sm",children:[((u=n.carbon_footprint)==null?void 0:u.toFixed(1))||"N/A"," kg CO₂-e"]}),e.jsx(A,{variant:n.compliance_status==="compliant"?"default":"destructive",className:"text-xs",children:n.compliance_status||"unknown"})]})]},n.id)}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No calculations yet. Start using the calculators to see your history here."})})})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"Favorite Materials",e.jsx(A,{variant:"outline",className:"ml-auto",children:i.length})]})}),e.jsx(f,{children:e.jsx("div",{className:"space-y-2",children:i.length>0?i.slice(0,5).map(n=>{var u,t,S;return e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:((u=n.material)==null?void 0:u.name)||"Unknown"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.category})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[((S=(t=n.material)==null?void 0:t.carbon_footprint_kgco2e_kg)==null?void 0:S.toFixed(2))||"N/A"," kg CO₂-e/kg"]})]},n.id)}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add materials to favorites while using the material database."})})})]}),l.length>0&&e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Achievements"]})}),e.jsx(f,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((n,u)=>e.jsxs(A,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),n]},u))})})]})]})},Je=["LCA Calculator","Scope Calculator","LEED Calculator","BREEAM Calculator","Green Star Calculator","NABERS Calculator","NCC Calculator"],Xe=[{value:"ncc",label:"NCC (National Construction Code)"},{value:"nabers",label:"NABERS Rating"},{value:"green_star",label:"Green Star Certification"},{value:"leed",label:"LEED Certification"},{value:"breeam",label:"BREEAM Assessment"}],es=({profile:s,onUpdateSettings:a})=>{var S,M,W,Q,Y,Z,K;const[c,i]=y.useState(!1),[d,l]=y.useState((s==null?void 0:s.quick_access_tools)||[]),[o,g]=y.useState({monthly_target:((S=s==null?void 0:s.carbon_footprint_goals)==null?void 0:S.monthly_target)||0,annual_target:((M=s==null?void 0:s.carbon_footprint_goals)==null?void 0:M.annual_target)||0,reduction_percentage:((W=s==null?void 0:s.carbon_footprint_goals)==null?void 0:W.reduction_percentage)||0}),[x,v]=y.useState((s==null?void 0:s.compliance_thresholds)||{}),[p,C]=y.useState({auto_save_calculations:((Q=s==null?void 0:s.calculator_preferences)==null?void 0:Q.auto_save_calculations)??!0,show_advanced_options:((Y=s==null?void 0:s.calculator_preferences)==null?void 0:Y.show_advanced_options)??!1,default_calculator:((Z=s==null?void 0:s.calculator_preferences)==null?void 0:Z.default_calculator)||"lca",show_tooltips:((K=s==null?void 0:s.calculator_preferences)==null?void 0:K.show_tooltips)??!0}),n=async()=>{i(!0);try{const r={...s,quick_access_tools:d,carbon_footprint_goals:o,compliance_thresholds:x,calculator_preferences:p};await a(r),I.success("Personalization settings saved successfully")}catch(r){console.error("Failed to save settings:",r),I.error("Failed to save settings")}finally{i(!1)}},u=r=>{l(h=>h.includes(r)?h.filter(D=>D!==r):[...h,r])},t=(r,h)=>{v(D=>({...D,[r]:parseFloat(h)||0}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Carbon Footprint Goals"]})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"monthly_target",children:"Monthly Target (kg CO₂-e)"}),e.jsx(k,{id:"monthly_target",type:"number",value:o.monthly_target,onChange:r=>g(h=>({...h,monthly_target:parseFloat(r.target.value)||0})),placeholder:"e.g., 1000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"annual_target",children:"Annual Target (kg CO₂-e)"}),e.jsx(k,{id:"annual_target",type:"number",value:o.annual_target,onChange:r=>g(h=>({...h,annual_target:parseFloat(r.target.value)||0})),placeholder:"e.g., 12000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"reduction_percentage",children:"Target Reduction (%)"}),e.jsx(k,{id:"reduction_percentage",type:"number",value:o.reduction_percentage,onChange:r=>g(h=>({...h,reduction_percentage:parseFloat(r.target.value)||0})),placeholder:"e.g., 20",max:"100",min:"0"})]})]})})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Quick Access Tools"]})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select calculators to show in your dashboard for quick access:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Je.map(r=>e.jsx(A,{variant:d.includes(r)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>u(r),children:r},r))})]})})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5"}),"Calculator Preferences"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{children:"Auto-save Calculations"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically save calculation results to your history"})]}),e.jsx(P,{checked:p.auto_save_calculations,onCheckedChange:r=>C(h=>({...h,auto_save_calculations:r}))})]}),e.jsx(L,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{children:"Show Advanced Options"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display advanced settings in calculators by default"})]}),e.jsx(P,{checked:p.show_advanced_options,onCheckedChange:r=>C(h=>({...h,show_advanced_options:r}))})]}),e.jsx(L,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{children:"Show Tooltips"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display helpful tooltips and guidance"})]}),e.jsx(P,{checked:p.show_tooltips,onCheckedChange:r=>C(h=>({...h,show_tooltips:r}))})]}),e.jsx(L,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Default Calculator"}),e.jsxs(F,{value:p.default_calculator,onValueChange:r=>C(h=>({...h,default_calculator:r})),children:[e.jsx(E,{children:e.jsx(T,{placeholder:"Select default calculator"})}),e.jsxs(R,{children:[e.jsx(j,{value:"lca",children:"LCA Calculator"}),e.jsx(j,{value:"scope",children:"Scope Calculator"}),e.jsx(j,{value:"green_star",children:"Green Star Calculator"}),e.jsx(j,{value:"nabers",children:"NABERS Calculator"}),e.jsx(j,{value:"ncc",children:"NCC Calculator"})]})]})]})]})]}),e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Compliance Alert Thresholds"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set carbon footprint thresholds for different compliance standards:"}),Xe.map(r=>e.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[e.jsx(m,{children:r.label}),e.jsx(k,{type:"number",value:x[r.value]||"",onChange:h=>t(r.value,h.target.value),placeholder:"kg CO₂-e threshold"})]},r.value))]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{onClick:n,disabled:c,className:"min-w-32",children:c?"Saving...":"Save Settings"})})]})},os=()=>{const{user:s,profile:a,updateProfile:c}=we(),i=Ie(s==null?void 0:s.id),d=async l=>{try{if(!(s!=null&&s.id)||!a)throw new Error("User ID or profile not found");const o={...a,...l};await c(o),I.success("Profile updated successfully")}catch(o){console.error("Failed to update profile:",o),I.error("Failed to update profile")}};return s?e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs(Se,{children:[e.jsx("title",{children:"My Profile | CarbonConstruct"}),e.jsx("meta",{name:"description",content:"Manage your CarbonConstruct account profile and preferences."})]}),e.jsx(X,{}),e.jsx("main",{className:"flex-grow content-top-spacing px-4 pb-12",children:e.jsx(ke,{feature:"User Profile",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"My Profile"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your account settings and preferences to get the most out of CarbonConstruct."})]}),e.jsxs(b,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-gray-200 dark:border-gray-700",children:[e.jsx($e,{fullName:(a==null?void 0:a.full_name)||"",email:s.email||"",avatarUrl:a==null?void 0:a.avatar_url}),e.jsx(f,{children:e.jsxs(Ae,{defaultValue:"dashboard",className:"w-full",children:[e.jsxs(Fe,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsx(U,{value:"dashboard",children:"Dashboard"}),e.jsx(U,{value:"profile",children:"Profile"}),e.jsx(U,{value:"personalization",children:"Personalization"})]}),e.jsx(z,{value:"dashboard",className:"space-y-6",children:e.jsx(Ke,{profile:a,calculationHistory:i.calculationHistory,complianceAlerts:i.complianceAlerts,favoriteMaterials:i.favoriteMaterials})}),e.jsx(z,{value:"profile",className:"space-y-6",children:e.jsx(Ze,{profile:a,onSubmit:d})}),e.jsx(z,{value:"personalization",className:"space-y-6",children:e.jsx(es,{profile:a,onUpdateSettings:d})})]})})]})]})})}),e.jsx(ee,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-carbon-50 dark:bg-gray-900",children:[e.jsx(X,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-carbon-600"})}),e.jsx(ee,{})]})};export{os as default};
//# sourceMappingURL=UserProfile-MD93F9wv.js.map
