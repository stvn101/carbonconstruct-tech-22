{"version":3,"mappings":"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","names":["HeroContent","user","useAuth","navigate","useNavigate","scrollToElement","useScrollTo","preloadFeaturesSection","FeaturesSection","__vitePreload","err","error","React","timer","handleScroll","featuresSection","rect","handleLearnMore","e","element","y","handleTryCalculator","jsx","motion","staggerContainer","jsxs","fadeInUp","Button","Link","Building2","LeafyGreen"],"ignoreList":[],"sources":["../../src/components/hero/HeroContent.tsx"],"sourcesContent":["\r\nimport React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Building2, LeafyGreen } from \"lucide-react\";\r\nimport { m as motion } from \"framer-motion\";\r\nimport { staggerContainer, fadeInUp } from \"@/utils/animationVariants\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from '@/contexts/auth';\r\nimport { useScrollTo } from \"@/hooks/useScrollTo\";\r\n// Direct import of FeaturesSection for preloading\r\nimport FeaturesSection from \"@/components/FeaturesSection\";\r\n\r\nconst HeroContent = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { scrollToElement } = useScrollTo();\r\n\r\n  // Enhanced preloading of the features section\r\n  const preloadFeaturesSection = () => {\r\n    try {\r\n      console.log(\"⏱️ Attempting to preload Features section...\");\r\n      // Directly import to ensure it's loaded\r\n      if (FeaturesSection) {\r\n        console.log(\"✅ Features section preloaded successfully via direct import\");\r\n      }\r\n      \r\n      // Also try the dynamic import as a fallback\r\n      import(\"@/components/FeaturesSection\").then(() => {\r\n        console.log(\"✅ Features section also preloaded via dynamic import\");\r\n      }).catch(err => {\r\n        console.error(\"❌ Failed to preload Features section via dynamic import:\", err);\r\n      });\r\n    } catch (error) {\r\n      console.error(\"❌ Error during preload of Features section:\", error);\r\n    }\r\n  };\r\n\r\n  // Attempt to preload after a short delay\r\n  React.useEffect(() => {\r\n    console.log(\"🔄 Setting up preload timer for Features section\");\r\n    const timer = setTimeout(preloadFeaturesSection, 200);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Listen for scroll events to help with debugging\r\n  React.useEffect(() => {\r\n    const handleScroll = () => {\r\n      const featuresSection = document.getElementById('features');\r\n      if (featuresSection) {\r\n        const rect = featuresSection.getBoundingClientRect();\r\n        if (rect.top >= 0 && rect.top <= window.innerHeight) {\r\n          console.log(\"📍 Features section is now visible in viewport\");\r\n        }\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n  \r\n  // Direct scroll function as backup without using hook\r\n  const directScrollToFeatures = (e?: React.MouseEvent) => {\r\n    if (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n    \r\n    console.log(\"⚡ Direct scroll to features initiated\");\r\n    \r\n    // Try multiple approaches\r\n    setTimeout(() => {\r\n      try {\r\n        // Try to find the element by id\r\n        const element = document.getElementById('features') || \r\n                         document.querySelector('.features-section') || \r\n                         document.querySelector('[data-section=\"features\"]');\r\n                         \r\n        if (element) {\r\n          console.log(\"📍 Found features section, scrolling directly\");\r\n          const yOffset = -100; // Adjusted offset\r\n          const y = element.getBoundingClientRect().top + window.pageYOffset + yOffset;\r\n          \r\n          window.scrollTo({\r\n            top: y,\r\n            behavior: 'smooth'\r\n          });\r\n        } else {\r\n          console.error(\"❌ Could not find features section for direct scroll\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"❌ Error in direct scroll:\", error);\r\n      }\r\n    }, 1500);\r\n  };\r\n  \r\n  const handleLearnMore = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    console.log(\"🔘 Learn More button clicked, attempting to scroll to features section\");\r\n    \r\n    // 1. Try to scroll directly first as immediate feedback\r\n    setTimeout(() => {\r\n      try {\r\n        // Try to find the element by id\r\n        const element = document.getElementById('features') || \r\n                         document.querySelector('.features-section') || \r\n                         document.querySelector('[data-section=\"features\"]');\r\n                         \r\n        if (element) {\r\n          console.log(\"📍 Found features section, scrolling directly\");\r\n          const yOffset = -100; // Adjusted offset\r\n          const y = element.getBoundingClientRect().top + window.pageYOffset + yOffset;\r\n          \r\n          window.scrollTo({\r\n            top: y,\r\n            behavior: 'smooth'\r\n          });\r\n        } else {\r\n          console.error(\"❌ Could not find features section for direct scroll\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"❌ Error in direct scroll:\", error);\r\n      }\r\n    }, 1500);\r\n    \r\n    // 2. Also use enhanced scrollToElement with better defaults for lazy-loaded content\r\n    scrollToElement('features', { \r\n      offset: 120,        // Increased offset to account for the fixed header\r\n      attempts: 20,       // Try up to 20 times (increased from 15)\r\n      delay: 350,         // Increased delay between attempts\r\n      initialDelay: 1500  // Much longer initial delay for lazy-loaded components to render (1.5 second)\r\n    })(e);\r\n  };\r\n\r\n  const handleTryCalculator = () => {\r\n    navigate('/calculator', { state: { demoMode: true } });\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"md:w-1/2 mb-8 md:mb-0 md:pr-8 bg-white dark:bg-gray-900 p-8 rounded-xl shadow-sm\"\r\n      initial=\"initial\"\r\n      whileInView=\"animate\"\r\n      viewport={{ once: true, amount: 0.3 }}\r\n      variants={staggerContainer}\r\n    >\r\n      <div className=\"text-center flex flex-col items-center justify-center h-full\">\r\n        <motion.h1 \r\n          className=\"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight text-center\"\r\n          variants={fadeInUp}\r\n        >\r\n          <span className=\"text-foreground dark:text-foreground\">Build Greener, </span> \r\n          <br />\r\n          <span className=\"text-carbon-700 dark:text-carbon-300\">Measure Smarter</span>\r\n        </motion.h1>\r\n        \r\n        <motion.p \r\n          className=\"text-lg md:text-xl text-carbon-800 dark:text-carbon-200 mb-8 max-w-lg mx-auto text-center\"\r\n          variants={fadeInUp}\r\n        >\r\n          Track, manage, and reduce your construction project's carbon footprint with the first SaaS platform designed specifically for construction sustainability.\r\n        </motion.p>\r\n        \r\n        <motion.div \r\n          className=\"flex flex-col sm:flex-row gap-4 justify-center mb-8\"\r\n          variants={fadeInUp}\r\n        >\r\n          <Button \r\n            size=\"lg\" \r\n            onClick={handleTryCalculator}\r\n            className=\"bg-carbon-600 hover:bg-carbon-700 text-white transition-transform duration-200 hover:scale-105 rounded-xl\"\r\n          >\r\n            Try Calculator\r\n          </Button>\r\n          <Button \r\n            size=\"lg\" \r\n            variant=\"outline\" \r\n            onClick={handleLearnMore}\r\n            className=\"border-carbon-500 text-carbon-800 hover:bg-carbon-100 dark:text-carbon-200 dark:hover:bg-carbon-800/50 transition-transform duration-200 hover:scale-105 rounded-xl\"\r\n            id=\"learn-more-button\" \r\n            aria-label=\"Learn more about CarbonConstruct features\"\r\n          >\r\n            Learn More\r\n          </Button>\r\n        </motion.div>\r\n        \r\n        <motion.div \r\n          className=\"flex flex-col sm:flex-row gap-4 sm:gap-8 justify-center items-center w-full\"\r\n          variants={fadeInUp}\r\n        >\r\n          <motion.div \r\n            className=\"flex items-center justify-center cursor-pointer w-full sm:w-auto\"\r\n            whileHover={{ scale: 1.05 }}\r\n            transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\r\n          >\r\n            <Link to=\"/construction-companies\" className=\"flex items-center bg-carbon-50 dark:bg-carbon-800 p-4 rounded-xl hover:bg-carbon-100 dark:hover:bg-carbon-700 transition-colors w-full sm:w-auto justify-center\">\r\n              <div className=\"bg-carbon-100 dark:bg-carbon-700 rounded-full p-3 mr-3\">\r\n                <Building2 className=\"h-5 w-5 text-carbon-700 dark:text-carbon-200\" />\r\n              </div>\r\n              <p className=\"text-sm font-medium text-carbon-800 dark:text-carbon-200\">For Construction Companies</p>\r\n            </Link>\r\n          </motion.div>\r\n          <motion.div \r\n            className=\"flex items-center justify-center cursor-pointer w-full sm:w-auto\"\r\n            whileHover={{ scale: 1.05 }}\r\n            transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\r\n          >\r\n            <Link to=\"/sustainable-building\" className=\"flex items-center bg-carbon-50 dark:bg-carbon-800 p-4 rounded-xl hover:bg-carbon-100 dark:hover:bg-carbon-700 transition-colors w-full sm:w-auto justify-center\">\r\n              <div className=\"bg-carbon-100 dark:bg-carbon-700 rounded-full p-3 mr-3\">\r\n                <LeafyGreen className=\"h-5 w-5 text-carbon-700 dark:text-carbon-200\" />\r\n              </div>\r\n              <p className=\"text-sm font-medium text-carbon-800 dark:text-carbon-200\">Sustainable Building</p>\r\n            </Link>\r\n          </motion.div>\r\n        </motion.div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default HeroContent;\r\n"],"file":"assets/HeroContent-DZ4Iqt-n.js"}