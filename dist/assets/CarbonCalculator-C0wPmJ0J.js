const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CHtXOOwB.js","assets/index-1p7O5510.css","assets/NCCCalculator-CIUwqzp6.js","assets/EnhancedCalculatorResults-DTab-DpY.js","assets/shield-C3KNxYec.js","assets/recycle-BV78qFBO.js","assets/switch-Cz-4Jc-7.js","assets/PieChart-B3E5AdY8.js","assets/separator-BpvyT6Sm.js","assets/target-BPcT1qj9.js","assets/star-DhDyIT4N.js","assets/settings-JWSwRKg3.js","assets/lightbulb-BLdPPbrd.js","assets/scroll-area-CvAawM1u.js","assets/usePersonalization-DKPi6Nos.js","assets/NABERSCalculator-BVcDt6PB.js","assets/LCACalculator-Cr8YI4kR.js","assets/ScopeCalculator-DgQxc7aR.js","assets/LEEDCalculator-AUege25U.js","assets/BREEAMCalculator-DXsUp7Z8.js","assets/GreenStarCalculator-CMNjAeAb.js","assets/ConstructionIntegrations-Bah1SiTa.js","assets/LazyAdminComponents-BW60EgqW.js"])))=>i.map(i=>d[i]);
import{w as P,j as e,bc as _e,b3 as je,b4 as be,b5 as ye,b6 as Ne,b as y,c as R,d as A,aR as qe,e as w,G as te,a4 as I,ac as He,O as ve,bd as $e,aX as Ce,aV as H,aY as hs,Q as J,r as f,aU as ae,aD as We,S as gs,I as we,B as T,be as fs,bf as z,a6 as Je,E as Pe,z as re,K as V,_ as ke,P as Y,ay as js,bg as bs,az as Se,bh as ys,bi as Ze,bj as Me,bk as Ns,bl as vs,l as De,C as Cs,x as ie,aT as he,aC as X,af as ws,ag as ks,ah as Ss,ai as Es,aj as ce,bm as M,$ as Ee,aM as Le,V as Re,W as Ye,Y as ee,Z as O,U as Rs,L as ge,aF as As,s as se,g as le,R as ne,a5 as Is,bn as _s,aJ as B,bo as Ps,aN as Ms,bp as Ds,b9 as $,bq as de,br as Ls,i as Z,bs as Oe}from"./index-CHtXOOwB.js";import{S as Qe}from"./separator-BpvyT6Sm.js";import{T as Q}from"./target-BPcT1qj9.js";import{R as Os}from"./recycle-BV78qFBO.js";import{S as Ke}from"./shield-C3KNxYec.js";import{S as q}from"./star-DhDyIT4N.js";import{S as Ts}from"./settings-JWSwRKg3.js";import{L as Xe}from"./lightbulb-BLdPPbrd.js";import{R as me,I as zs,J as Bs,s as Fs,T as xe,F as Us,H as Te,X as ze,Y as Be,B as Fe,K as es,M as Vs,z as Gs}from"./PieChart-B3E5AdY8.js";import{S as qs}from"./scroll-area-CvAawM1u.js";import{u as Hs}from"./usePersonalization-DKPi6Nos.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=P("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=P("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=P("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=P("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=P("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=P("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=P("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=P("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=P("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=P("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=P("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=P("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=P("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=P("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=P("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=P("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=P("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]),st=({onClick:s,className:t,asIcon:a=!1})=>a?e.jsx("div",{onClick:n=>{n.stopPropagation(),s()},className:`inline-flex items-center justify-center h-4 w-4 text-muted-foreground hover:text-foreground cursor-pointer transition-colors ${t}`,title:"Help & Tutorial",role:"button",tabIndex:0,onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),n.stopPropagation(),s())},children:e.jsx(_e,{className:"h-3 w-3"})}):e.jsx("button",{onClick:s,className:`inline-flex items-center justify-center h-8 w-8 p-0 text-muted-foreground hover:text-foreground border-0 bg-transparent hover:bg-accent rounded-md transition-colors ${t}`,title:"Help & Tutorial",children:e.jsx(_e,{className:"h-4 w-4"})}),K=({open:s,onOpenChange:t,title:a,purpose:n,nccRelevance:i,sections:l,quickStart:p=[],commonErrors:d=[]})=>e.jsx(je,{open:s,onOpenChange:t,children:e.jsxs(be,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ye,{children:e.jsxs(Ne,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Q,{className:"h-6 w-6 text-primary"}),a," - How to Use"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(y,{className:"border-primary/20",children:[e.jsx(R,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(qe,{className:"h-4 w-4 text-blue-600"}),"Purpose"]})}),e.jsx(w,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:n})})]}),e.jsxs(y,{className:"border-green-200 dark:border-green-800",children:[e.jsx(R,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(te,{className:"h-4 w-4 text-green-600"}),"NCC Compliance",e.jsx(I,{variant:"outline",className:"text-xs",children:"Required"})]})}),e.jsx(w,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:i})})]})]}),p.length>0&&e.jsxs(y,{children:[e.jsx(R,{children:e.jsx(A,{className:"text-base",children:"Quick Start Guide"})}),e.jsx(w,{children:e.jsx("ol",{className:"space-y-2",children:p.map((c,h)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-medium",children:h+1}),e.jsx("span",{className:"text-sm",children:c})]},h))})})]}),e.jsx(Qe,{}),e.jsx("div",{className:"space-y-4",children:l.map((c,h)=>e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[c.icon,c.title]})}),e.jsx(w,{children:c.content})]},h))}),d.length>0&&e.jsxs(y,{className:"border-amber-200 dark:border-amber-800",children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(He,{className:"h-4 w-4 text-amber-600"}),"Common Errors to Avoid"]})}),e.jsx(w,{children:e.jsx("ul",{className:"space-y-2",children:d.map((c,h)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-1.5 h-1.5 bg-amber-600 rounded-full mt-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:c})]},h))})})]})]})]})}),tt=({open:s,onOpenChange:t})=>{const a=[{title:"Step 1: Embodied Carbon Assessment",icon:e.jsx(Zs,{className:"h-4 w-4 text-brown-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Calculate carbon emissions from building materials:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Structural Materials:"})," Concrete, steel, timber quantities and carbon factors"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Envelope Materials:"})," Insulation, cladding, glazing with EPD data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Finishes:"})," Interior materials, flooring, fixtures, and fittings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"MEP Systems:"})," HVAC equipment, electrical systems, plumbing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Material Origins:"})," Local vs imported materials affect transport emissions"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-300",children:"Use Australian EPD data where available for accurate embodied carbon factors"})})]})},{title:"Step 2: Operational Carbon Modeling",icon:e.jsx(ve,{className:"h-4 w-4 text-green-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Project lifetime operational emissions:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Design Life:"})," Building analysis period (typically 50-60 years)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Energy Consumption:"})," Annual heating, cooling, lighting, and equipment loads"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grid Factors:"})," Electricity emission factors by state/territory"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Renewable Energy:"})," On-site generation and green power purchases"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grid Decarbonization:"})," Future emission factor projections"]})]})]})},{title:"Step 3: Transport & Construction",icon:e.jsx($e,{className:"h-4 w-4 text-orange-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Account for construction phase emissions:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Material Transport:"})," Distance from source to site"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Construction Equipment:"})," Diesel consumption for earthworks, cranes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Waste Generation:"})," Construction and demolition waste to landfill"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Worker Travel:"})," Daily commuting during construction period"]})]})]})},{title:"Step 4: End-of-Life Considerations",icon:e.jsx(Os,{className:"h-4 w-4 text-purple-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Include demolition and material recovery:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Demolition Energy:"})," Equipment and transport for building removal"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Material Recovery:"})," Recycling potential for steel, concrete, timber"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Waste Disposal:"})," Landfill emissions from non-recyclable materials"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Credit for Recycling:"})," Avoided emissions from material recovery"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-green-800 dark:text-green-300",children:"NCC 2025: Consider circular economy principles in material selection"})})]})}],n=["Define project scope and system boundaries (cradle-to-grave)","Input material quantities from architectural and structural drawings","Select appropriate embodied carbon factors from EPD database","Configure operational energy model with HVAC and lighting systems","Add transport distances for major material categories","Set building design life (typically 50-60 years)","Calculate total lifecycle carbon footprint and benchmark results"],i=["Incomplete material inventory - missing finishes or MEP systems","Using global carbon factors instead of local/regional data","Not accounting for renewable energy in operational phase","Ignoring transport emissions for heavy materials like concrete","Double-counting emissions between different lifecycle stages","Using outdated electricity grid emission factors"];return e.jsx(K,{open:s,onOpenChange:t,title:"LCA Calculator",purpose:"Perform comprehensive lifecycle carbon assessment covering embodied, operational, and end-of-life emissions over the building's entire lifespan.",nccRelevance:"SUPPORTING TOOL for NCC 2025 objectives. While not mandatory, LCA helps optimize material selection and energy systems to achieve overall carbon reduction goals.",sections:a,quickStart:n,commonErrors:i})},at=({open:s,onOpenChange:t})=>{const a=[{title:"Scope 1: Direct Emissions",icon:e.jsx(Ce,{className:"h-4 w-4 text-red-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Calculate emissions from sources directly owned or controlled:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Natural Gas:"})," On-site combustion for heating, hot water, cooking (m³ × emission factor)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Diesel Generators:"})," Backup power systems and construction equipment (L × emission factor)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Fleet Vehicles:"})," Company-owned vehicles for maintenance and operations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Refrigerants:"})," HFC/HCFC leakage from HVAC systems (kg × GWP factor)"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-red-800 dark:text-red-300",children:"Use Australian National Greenhouse Account factors for accurate calculations"})})]})},{title:"Scope 2: Indirect Energy Emissions",icon:e.jsx(H,{className:"h-4 w-4 text-blue-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Account for purchased electricity and energy:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Grid Electricity:"})," kWh consumption × state-specific emission factors"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Location-Based:"})," Average grid emission factors for your region"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Market-Based:"})," Supplier-specific factors including green power"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Renewable Energy:"})," Deduct on-site solar generation and green power purchases"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm",children:"State Factors (kg CO₂-e/kWh)"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"NSW: 0.81, VIC: 1.02, QLD: 0.79, SA: 0.40"})]}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Renewable Energy"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"GreenPower and LGCs reduce Scope 2 emissions"})]})]})]})},{title:"Scope 3: Value Chain Emissions",icon:e.jsx($e,{className:"h-4 w-4 text-green-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Include relevant upstream and downstream emissions:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Purchased Goods:"})," Embodied carbon in materials and products"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transportation:"})," Material delivery, waste removal, employee commuting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Waste Generated:"})," Treatment and disposal of operational waste"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Travel:"})," Flights and accommodation for company activities"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Leased Assets:"})," Downstream emissions from tenant energy use"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-amber-800 dark:text-amber-300",children:"Focus on material categories - often 80% of construction Scope 3 emissions"})})]})},{title:"Carbon Accounting & Reporting",icon:e.jsx(hs,{className:"h-4 w-4 text-purple-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Ensure compliance with GHG Protocol standards:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Organizational Boundaries:"})," Operational vs financial control approach"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Temporal Boundaries:"})," Reporting period and data collection timeframes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Quality:"})," Primary data preferred, secondary data where necessary"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verification:"})," Third-party verification for credible reporting"]})]})]})}],n=["Define organizational and operational boundaries clearly","Collect 12 months of energy consumption data (electricity, gas)","Calculate Scope 1 emissions from direct fuel combustion","Determine Scope 2 using location-based grid emission factors","Identify material Scope 3 categories for your building type","Apply Australian emission factors consistently throughout","Verify total emissions align with industry benchmarks"],i=["Double-counting emissions between scopes (e.g., electricity in Scope 1 and 2)","Using incorrect emission factors - ensure Australian NGA factors","Missing refrigerant leakage from HVAC systems (significant in hot climates)","Not accounting for green power purchases in Scope 2 calculations","Incomplete Scope 3 boundary - excluding major material categories","Mixing reporting periods - ensure consistent 12-month timeframe"];return e.jsx(K,{open:s,onOpenChange:t,title:"Scope 1-3 Calculator",purpose:"Calculate comprehensive greenhouse gas emissions across all three scopes following GHG Protocol standards for complete carbon footprint assessment.",nccRelevance:"COMPLEMENTARY to NCC 2025 requirements. Provides comprehensive carbon accounting that supports broader sustainability goals and corporate reporting obligations.",sections:a,quickStart:n,commonErrors:i})},rt=({open:s,onOpenChange:t})=>{const a=[{title:"Energy & Atmosphere (EA)",icon:e.jsx(J,{className:"h-4 w-4 text-green-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Optimize energy performance for maximum EA points:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Energy Performance:"})," 16-20 points for exceeding ASHRAE 90.1 baseline by 5-50%"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Renewable Energy:"})," 1-3 points for on-site or off-site renewable systems"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Enhanced Commissioning:"})," 6 points for comprehensive building systems verification"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Measurement & Verification:"})," 3 points for ongoing energy monitoring systems"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-green-800 dark:text-green-300",children:"NCC compliance helps achieve LEED energy performance thresholds"})})]})},{title:"Water Efficiency (WE)",icon:e.jsx(ss,{className:"h-4 w-4 text-blue-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Implement water conservation strategies:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Indoor Water Use:"})," 6 points for efficient fixtures and fittings"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Outdoor Water Use:"})," 2-4 points for landscape water efficiency"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Water Metering:"})," 1 point for building-level water monitoring"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cooling Tower:"})," 2 points for efficient cooling water management"]})]})]})},{title:"Indoor Environmental Quality (EQ)",icon:e.jsx(et,{className:"h-4 w-4 text-purple-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Enhance occupant comfort and wellbeing:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Ventilation:"})," 1-3 points for outdoor air delivery monitoring"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thermal Comfort:"})," 1 point for design and verification compliance"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Daylighting:"})," 2-3 points for natural light optimization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Views:"})," 1 point for direct line of sight to outdoors"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Acoustic Performance:"})," 1 point for noise control measures"]})]})]})},{title:"Materials & Resources (MR)",icon:e.jsx(Qs,{className:"h-4 w-4 text-brown-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Select sustainable building materials:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"EPDs:"})," 1-2 points for Environmental Product Declarations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regional Materials:"})," 1-2 points for locally sourced materials"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recycled Content:"})," 1-2 points for post-consumer recycled materials"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rapidly Renewable:"})," 1 point for bio-based materials"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Construction Waste:"})," 1-2 points for waste diversion from landfill"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-300",children:"Australian materials databases support MR credit calculations"})})]})}],n=["Establish project baseline using ASHRAE 90.1 energy model","Configure building systems for 20%+ energy performance improvement","Design water-efficient systems and native landscaping","Select materials with EPDs and regional sourcing","Plan construction waste management and recycling program","Design for optimal daylighting and natural ventilation","Calculate total points and determine certification level"],i=["Using incorrect baseline - ASHRAE 90.1 not local energy codes","Not accounting for Australian climate data in energy modeling","Missing documentation for sustainable material claims","Inadequate commissioning scope affecting EA credits","Poor integration between water efficiency and landscape design","Insufficient measurement and verification planning"];return e.jsx(K,{open:s,onOpenChange:t,title:"LEED Calculator",purpose:"Calculate LEED v4.1 BD+C points across all credit categories to achieve Certified, Silver, Gold, or Platinum certification levels.",nccRelevance:"COMPLEMENTARY to NCC requirements. LEED energy performance credits align with and exceed NCC Section J requirements, supporting international sustainability recognition.",sections:a,quickStart:n,commonErrors:i})},nt=({open:s,onOpenChange:t})=>{const a=[{title:"Energy Performance",icon:e.jsx(H,{className:"h-4 w-4 text-green-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Achieve high energy efficiency ratings:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Energy Efficiency:"})," Up to 15 points for exceeding notional building performance"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sub-metering:"})," 2 points for separate energy monitoring systems"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"External Lighting:"})," 1 point for efficient outdoor lighting design"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Low/Zero Carbon:"})," 3 points for renewable energy systems"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Energy Monitoring:"})," 1 point for building management systems"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-green-800 dark:text-green-300",children:"BREEAM energy targets often exceed NCC requirements by 25-40%"})})]})},{title:"Health & Wellbeing",icon:e.jsx(Ke,{className:"h-4 w-4 text-blue-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Optimize occupant health and comfort:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Visual Comfort:"})," 4 points for glare control and daylighting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Indoor Air Quality:"})," 2 points for pollutant control and ventilation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thermal Comfort:"})," 2 points for temperature and humidity control"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Acoustic Performance:"})," 4 points for noise control measures"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safe Containment:"})," 1 point for hazardous substance management"]})]})]})},{title:"Management Processes",icon:e.jsx($s,{className:"h-4 w-4 text-purple-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Implement comprehensive project management:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Commissioning:"})," 2-4 points for building services commissioning"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Construction Site:"})," 4 points for environmental site management"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Stakeholder Participation:"})," 1 point for consultation processes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Life Cycle Costing:"})," 1 point for whole-life cost analysis"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Post Occupancy:"})," 1 point for building performance evaluation"]})]})]})},{title:"Innovation & Exemplary Performance",icon:e.jsx(J,{className:"h-4 w-4 text-orange-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Achieve additional credits for exceptional performance:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Innovation Credits:"})," Up to 10 points for innovative design solutions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Exemplary Performance:"})," Double points for exceeding credit thresholds"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"BREEAM Accredited Professional:"})," 1 point for AP involvement"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Research & Development:"})," Points for contributing to BREEAM research"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-300",children:"Innovation credits can help achieve higher certification levels"})})]})}],n=["Select appropriate BREEAM scheme (New Construction, Refurbishment, etc.)","Configure building type and establish assessment methodology","Input energy performance data and compare to notional building","Assess management processes and commissioning procedures","Evaluate health & wellbeing features and indoor environment","Consider materials selection and transportation impacts","Calculate total score and determine certification level"],i=["Using incorrect BREEAM scheme for building type or project stage","Not accounting for Australian climate in energy calculations","Missing mandatory credits that prevent certification","Inadequate commissioning evidence affecting management credits","Poor integration between water and energy efficiency measures","Insufficient post-occupancy evaluation planning"];return e.jsx(K,{open:s,onOpenChange:t,title:"BREEAM Calculator",purpose:"Calculate BREEAM International credits across all assessment categories to achieve Pass, Good, Very Good, Excellent, or Outstanding certification.",nccRelevance:"COMPLEMENTARY to NCC compliance. BREEAM standards often exceed NCC requirements and provide international recognition for sustainable building practices.",sections:a,quickStart:n,commonErrors:i})},it=({open:s,onOpenChange:t})=>{const a=[{title:"Energy Category",icon:e.jsx(q,{className:"h-4 w-4 text-green-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Optimize energy performance for Green Star points:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Greenhouse Gas Emissions:"})," Up to 20 points for energy efficiency improvements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Peak Energy Demand:"})," 1 point for demand management systems"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Energy Sub-metering:"})," 1 point for detailed energy monitoring"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Lighting Power Density:"})," 2 points for efficient lighting design"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Renewable Energy:"})," 2 points for on-site generation systems"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-green-800 dark:text-green-300",children:"NCC Section J compliance provides foundation for Green Star energy credits"})})]})},{title:"Water Category",icon:e.jsx(ss,{className:"h-4 w-4 text-blue-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Implement comprehensive water management:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Potable Water:"})," Up to 10 points for water use reduction"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Water Meters:"})," 1 point for building-level water monitoring"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Landscape Irrigation:"})," 1 point for efficient irrigation systems"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Fire Systems:"})," 1 point for water-efficient fire protection"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cooling Systems:"})," 1 point for water-efficient cooling towers"]})]})]})},{title:"Materials Category",icon:e.jsx(ve,{className:"h-4 w-4 text-brown-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Select sustainable building materials:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Concrete:"})," Up to 4 points for supplementary cementitious materials"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Steel:"})," Up to 4 points for recycled content and responsible sourcing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Timber:"})," Up to 3 points for certified sustainable forestry"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"PVC Minimization:"})," 1 point for avoiding PVC where practical"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Design for Disassembly:"})," 1 point for end-of-life planning"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:e.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-300",children:"Australian materials databases support responsible sourcing verification"})})]})},{title:"Indoor Environment Quality",icon:e.jsx(Ks,{className:"h-4 w-4 text-purple-600"}),content:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:"Enhance occupant health and productivity:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Daylight:"})," Up to 4 points for natural lighting optimization"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Glare Reduction:"})," 1 point for external shading and blinds"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"High Frequency Ballasts:"})," 1 point for flicker-free lighting"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Internal Noise:"})," Up to 2 points for acoustic design"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Volatile Organics:"})," Up to 5 points for low-emission materials"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thermal Comfort:"})," 1 point for individual comfort control"]})]})]})}],n=["Select appropriate Green Star rating tool (Design & As Built, etc.)","Configure building type and establish baseline performance","Input energy performance data and calculate GHG reduction","Design water-efficient systems and native landscaping","Specify sustainable materials with appropriate certifications","Plan indoor environment quality features for occupant wellbeing","Calculate total points and determine star rating (4-6 stars)"],i=["Using inappropriate rating tool for building type or project stage","Not accounting for Australian climate conditions in modeling","Missing material certification documentation","Inadequate daylight modeling affecting IEQ credits","Poor coordination between energy and water efficiency strategies","Insufficient commissioning planning for building systems"];return e.jsx(K,{open:s,onOpenChange:t,title:"Green Star Calculator",purpose:"Calculate Green Building Council Australia points across all categories to achieve 4, 5, or 6 Green Star certification recognizing environmental excellence.",nccRelevance:"BUILDS UPON NCC requirements. Green Star 4-star minimum aligns with NCC 2025 objectives, while 5-6 stars demonstrate leadership in sustainable building performance.",sections:a,quickStart:n,commonErrors:i})},rs=({open:s,onOpenChange:t,title:a,purpose:n,nccRelevance:i,sections:l,quickStart:p=[],commonErrors:d=[],quickActions:c=[],completionRate:h=0})=>{const[j,g]=f.useState(""),[b,S]=f.useState("all"),N=f.useMemo(()=>j?l.filter(o=>{var m;return o.title.toLowerCase().includes(j.toLowerCase())||((m=o.content)==null?void 0:m.toString().toLowerCase().includes(j.toLowerCase()))}):l,[l,j]),v=o=>{switch(o){case"high":return"destructive";case"medium":return"warning";case"low":return"secondary";default:return"outline"}},u=f.useMemo(()=>{const o=new Set(c.map(m=>m.category));return["all",...Array.from(o)]},[c]),r=b==="all"?c:c.filter(o=>o.category===b);return e.jsx(je,{open:s,onOpenChange:t,children:e.jsxs(be,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ye,{children:[e.jsxs(Ne,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Q,{className:"h-6 w-6 text-primary"}),a," - Enhanced Guide"]}),h>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(ae,{className:"h-4 w-4"}),"Progress: ",h,"% Complete"]}),e.jsx(We,{value:h,className:"h-2"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(we,{placeholder:"Search help content...",value:j,onChange:o=>g(o.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(y,{className:"border-primary/20 bg-gradient-to-br from-blue-50/50 to-indigo-50/50 dark:from-blue-950/20 dark:to-indigo-950/20",children:[e.jsx(R,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(qe,{className:"h-4 w-4 text-blue-600"}),"Purpose & Overview"]})}),e.jsx(w,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:n})})]}),e.jsxs(y,{className:"border-green-200 dark:border-green-800 bg-gradient-to-br from-green-50/50 to-emerald-50/50 dark:from-green-950/20 dark:to-emerald-950/20",children:[e.jsx(R,{className:"pb-3",children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(te,{className:"h-4 w-4 text-green-600"}),"NCC Compliance Status",e.jsxs(I,{variant:"destructive",className:"text-xs animate-pulse",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"MANDATORY"]})]})}),e.jsx(w,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:i})})]})]}),c.length>0&&e.jsxs(y,{className:"bg-gradient-to-r from-purple-50/50 to-pink-50/50 dark:from-purple-950/20 dark:to-pink-950/20",children:[e.jsxs(R,{children:[e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(H,{className:"h-4 w-4 text-purple-600"}),"Quick Setup Actions"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(o=>e.jsx(T,{variant:b===o?"default":"outline",size:"sm",onClick:()=>S(o),className:"text-xs",children:o.charAt(0).toUpperCase()+o.slice(1)},o))})]}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map((o,m)=>e.jsx(y,{className:"p-3 hover:shadow-md transition-shadow cursor-pointer",onClick:o.action,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 p-2 rounded-lg bg-primary/10",children:o.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:o.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description})]})]})},m))})})]}),p.length>0&&e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(fs,{className:"h-4 w-4 text-indigo-600"}),"Step-by-Step Quick Start"]})}),e.jsx(w,{children:e.jsx("ol",{className:"space-y-3",children:p.map((o,m)=>e.jsxs("li",{className:"flex items-start gap-3 p-3 rounded-lg bg-gradient-to-r from-slate-50/50 to-gray-50/50 dark:from-slate-950/20 dark:to-gray-950/20",children:[e.jsx("span",{className:"flex-shrink-0 w-7 h-7 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium shadow-sm",children:m+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium",children:o}),e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Step ",m+1," of ",p.length]})]})]},m))})})]}),e.jsx(Qe,{}),e.jsx("div",{className:"space-y-4",children:N.map((o,m)=>e.jsxs(y,{className:o.isCompliance?"border-l-4 border-l-green-500":"",children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[o.icon,o.title,o.priority&&e.jsx(I,{variant:v(o.priority),className:"text-xs",children:o.priority.toUpperCase()}),o.isCompliance&&e.jsxs(I,{variant:"success",className:"text-xs",children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),"NCC Required"]}),o.estimatedTime&&e.jsxs(I,{variant:"outline",className:"text-xs",children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),o.estimatedTime]})]})}),e.jsx(w,{children:o.content})]},m))}),d.length>0&&e.jsxs(y,{className:"border-amber-200 dark:border-amber-800 bg-gradient-to-br from-amber-50/50 to-orange-50/50 dark:from-amber-950/20 dark:to-orange-950/20",children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2 text-base",children:[e.jsx(He,{className:"h-4 w-4 text-amber-600"}),"Critical Errors to Avoid",e.jsx(I,{variant:"warning",className:"text-xs animate-pulse",children:"HIGH IMPACT"})]})}),e.jsx(w,{children:e.jsx("ul",{className:"space-y-3",children:d.map((o,m)=>e.jsxs("li",{className:"flex items-start gap-3 p-3 rounded-lg bg-white/50 dark:bg-slate-900/20",children:[e.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-amber-600 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:o}),e.jsx("div",{className:"mt-1 text-xs text-amber-700 dark:text-amber-400",children:"⚠️ This error can cause compliance failures"})]})]},m))})})]})]})]})})},lt=({open:s,onOpenChange:t})=>{const a=[{title:"Step 1: Building Information",icon:e.jsx(V,{className:"h-4 w-4 text-blue-600"}),priority:"high",isCompliance:!0,estimatedTime:"2-3 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Enter basic building details that affect energy performance:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 border-l-4 border-l-blue-500 bg-blue-50/50 dark:bg-blue-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Building Type",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Required"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Residential, Commercial, or Mixed-use - directly affects NCC energy requirements and calculation methods"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-green-500 bg-green-50/50 dark:bg-green-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Floor Area (m²)",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Required"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total conditioned floor area - critical for energy intensity calculations per Section J"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-purple-500 bg-purple-50/50 dark:bg-purple-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-2",children:"Number of Floors"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Above and below ground levels - impacts heat loss calculations and compliance thresholds"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-orange-500 bg-orange-50/50 dark:bg-orange-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:["Climate Zone",e.jsx(I,{variant:"success",className:"text-xs",children:"Auto-detected"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Australian climate zone 1-8 - determines specific energy targets and compliance benchmarks"})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-100/80 to-indigo-100/80 dark:from-blue-950/40 dark:to-indigo-950/40 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:"💡 Pro Tip: Climate Zone Impact"}),e.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:"Different climate zones have varying energy performance requirements. Zone 8 (alpine) has 40% stricter thermal requirements than Zone 1 (tropical)."})]})]})},{title:"Step 2: Thermal Performance",icon:e.jsx(Ve,{className:"h-4 w-4 text-red-600"}),priority:"high",isCompliance:!0,estimatedTime:"5-7 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Configure thermal envelope properties for Section J compliance:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-red-50/50 to-pink-50/50 dark:from-red-950/20 dark:to-pink-950/20",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-red-600"}),"Wall R-Value",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Critical"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Thermal resistance of external walls"}),e.jsxs("div",{className:"text-xs bg-red-100 dark:bg-red-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Climate Zone Minimums:"}),e.jsx("br",{}),"Zone 1-3: R1.5 | Zone 4-5: R2.5 | Zone 6-8: R3.5"]})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-blue-50/50 to-cyan-50/50 dark:from-blue-950/20 dark:to-cyan-950/20",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-blue-600"}),"Roof R-Value",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Critical"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Insulation performance of roof/ceiling"}),e.jsxs("div",{className:"text-xs bg-blue-100 dark:bg-blue-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Minimum Requirements:"}),e.jsx("br",{}),"Residential: R3.5-R6.0 | Commercial: R2.5-R5.0"]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-amber-100/80 to-yellow-100/80 dark:from-amber-950/40 dark:to-yellow-950/40 rounded-lg border-l-4 border-l-amber-500",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100 mb-2",children:"⚠️ NCC 2025 Enhanced Requirements"}),e.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:"New thermal performance standards are 20% stricter than NCC 2019. Ensure your R-values meet the updated minimums for your climate zone."})]})]})},{title:"Step 3: Energy Systems",icon:e.jsx(H,{className:"h-4 w-4 text-green-600"}),priority:"medium",isCompliance:!0,estimatedTime:"4-6 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Define HVAC and energy systems for accurate modeling:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border-l-4 border-l-green-500 bg-green-50/50 dark:bg-green-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-1 flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"HVAC System Selection"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Heat pump systems can improve compliance by 25-40% compared to electric resistance heating"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-blue-500 bg-blue-50/50 dark:bg-blue-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-1",children:"System Efficiency Ratings"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"COP (heating) and EER (cooling) values directly impact energy compliance scores"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-purple-500 bg-purple-50/50 dark:bg-purple-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-1 flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Renewable Energy Integration",e.jsx(I,{variant:"success",className:"text-xs",children:"Bonus Points"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Solar PV systems can offset up to 100% of building energy consumption for compliance"})]})]})]})},{title:"Step 4: Verification & Compliance",icon:e.jsx(re,{className:"h-4 w-4 text-purple-600"}),priority:"high",isCompliance:!0,estimatedTime:"2-3 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Review calculated results and ensure NCC compliance:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20",children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-green-600"}),"Energy Intensity Check"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Must meet Section J targets for building type and climate zone"}),e.jsxs("div",{className:"text-xs bg-green-100 dark:bg-green-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Pass Criteria:"})," ≤ Deemed-to-Satisfy limits"]})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Compliance Verification"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Automated compliance checking against NCC 2025 requirements"}),e.jsxs("div",{className:"text-xs bg-blue-100 dark:bg-blue-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Status:"})," Real-time compliance monitoring"]})]})]})]})}],n=[{title:"Residential House",description:"Pre-fill typical single-family home values",icon:e.jsx(Je,{className:"h-4 w-4 text-green-600"}),category:"templates",action:()=>{z({title:"Template Applied",description:"Residential house template loaded with typical values for quick start."})}},{title:"Commercial Office",description:"Set up standard office building parameters",icon:e.jsx(Pe,{className:"h-4 w-4 text-blue-600"}),category:"templates",action:()=>{z({title:"Template Applied",description:"Commercial office template loaded with industry standard values."})}},{title:"Industrial Facility",description:"Configure for manufacturing or warehouse",icon:e.jsx(Ce,{className:"h-4 w-4 text-purple-600"}),category:"templates",action:()=>{z({title:"Template Applied",description:"Industrial facility template configured for heavy energy use."})}},{title:"Check Climate Zone",description:"Auto-detect based on location",icon:e.jsx(ue,{className:"h-4 w-4 text-orange-600"}),category:"tools",action:()=>{z({title:"Climate Zone Detected",description:"Climate zone 4 detected for your location."})}},{title:"Calculate R-Values",description:"Get minimum requirements for your zone",icon:e.jsx(re,{className:"h-4 w-4 text-red-600"}),category:"tools",action:()=>{z({title:"R-Values Calculated",description:"Minimum R-values calculated based on your climate zone and building type."})}},{title:"Energy System Guide",description:"Choose optimal HVAC for compliance",icon:e.jsx(H,{className:"h-4 w-4 text-green-600"}),category:"guidance",action:()=>{z({title:"System Guide Opened",description:"HVAC selection guide opened with efficiency recommendations."})}}],i=["Select building type from templates or enter custom details","Enter total conditioned floor area in square meters","Auto-detect or manually select Australian climate zone (1-8)","Input thermal performance values from building design specifications","Configure HVAC system type and efficiency ratings (COP/EER)","Add renewable energy capacity if solar PV or other systems installed","Review compliance status and click Calculate for detailed NCC report","Export results for building permit applications and documentation"],l=["Using incorrect climate zone - verify against official BCA climate zone maps","Confusing R-values with U-values (Remember: R-value = 1/U-value)","Not accounting for thermal bridging in wall and roof assemblies","Measuring gross floor area instead of conditioned space only","Missing renewable energy system contribution in energy balance calculations","Using outdated NCC 2019 thermal performance values instead of NCC 2025 requirements"];return e.jsx(rs,{open:s,onOpenChange:t,title:"NCC Calculator",purpose:"Calculate building energy performance to demonstrate compliance with National Construction Code Section J energy efficiency requirements using the latest NCC 2025 standards.",nccRelevance:"MANDATORY for all new buildings and major renovations. Section J requires buildings to meet minimum energy performance standards based on climate zone and building class. Non-compliance can result in permit delays and costly redesign.",sections:a,quickStart:i,commonErrors:l,quickActions:n,completionRate:25})},ot=({open:s,onOpenChange:t})=>{const a=[{title:"Step 1: Energy Data Collection",icon:e.jsx(W,{className:"h-4 w-4 text-blue-600"}),priority:"high",isCompliance:!0,estimatedTime:"10-15 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Gather 12 months of actual energy consumption data for accurate NABERS assessment:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border-l-4 border-l-blue-500 bg-blue-50/50 dark:bg-blue-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Electricity Bills",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Required"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Monthly kWh consumption for base building services only"}),e.jsxs("div",{className:"text-xs bg-blue-100 dark:bg-blue-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Exclude:"})," Tenant consumption, IT equipment, commercial kitchens"]})]}),e.jsxs("div",{className:"p-4 border-l-4 border-l-green-500 bg-green-50/50 dark:bg-green-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4"}),"Gas Bills (if applicable)",e.jsx(I,{variant:"outline",className:"text-xs",children:"Optional"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Monthly MJ consumption for heating/hot water"}),e.jsxs("div",{className:"text-xs bg-green-100 dark:bg-green-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Include:"})," Base building HVAC and hot water systems only"]})]}),e.jsxs("div",{className:"p-4 border-l-4 border-l-purple-500 bg-purple-50/50 dark:bg-purple-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Green Power Certificates",e.jsx(I,{variant:"success",className:"text-xs",children:"Bonus"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Percentage of renewable energy purchased"}),e.jsxs("div",{className:"text-xs bg-purple-100 dark:bg-purple-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Impact:"})," Can improve rating by 0.5-1.0 stars"]})]}),e.jsxs("div",{className:"p-4 border-l-4 border-l-orange-500 bg-orange-50/50 dark:bg-orange-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-2",children:"On-site Generation"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Solar PV or other renewable systems"}),e.jsxs("div",{className:"text-xs bg-orange-100 dark:bg-orange-950/30 p-2 rounded",children:[e.jsx("strong",{children:"Note:"})," Must have 12 months of generation data"]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-amber-100/80 to-yellow-100/80 dark:from-amber-950/40 dark:to-yellow-950/40 rounded-lg border-l-4 border-l-amber-500",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100 mb-2",children:"⚠️ Critical: Actual Data Required"}),e.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:"NABERS requires 12 months of actual consumption data - design estimates or projections are not acceptable for certification."})]})]})},{title:"Step 2: Building Profile Setup",icon:e.jsx(V,{className:"h-4 w-4 text-green-600"}),priority:"high",isCompliance:!0,estimatedTime:"5-8 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Configure building characteristics for accurate NABERS rating calculation:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border-l-4 border-l-green-500 bg-green-50/50 dark:bg-green-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Net Lettable Area (NLA)",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Critical"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tenanted area in m² excluding common areas, plant rooms, and circulation spaces"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-blue-500 bg-blue-50/50 dark:bg-blue-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-2",children:"Building Type Classification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Office, Shopping Centre, Hotel, Data Centre - affects benchmark comparison"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-purple-500 bg-purple-50/50 dark:bg-purple-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-2",children:"Operating Hours Profile"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Standard weekly operating hours impact energy intensity normalization"})]})]})]})},{title:"Step 3: Star Rating Calculation",icon:e.jsx(Y,{className:"h-4 w-4 text-purple-600"}),priority:"medium",isCompliance:!0,estimatedTime:"3-5 min",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Understanding your NABERS Energy rating methodology:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-blue-600"}),"Energy Intensity"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"MJ/m²/year calculated from 12-month consumption"}),e.jsx("div",{className:"text-xs bg-blue-100 dark:bg-blue-950/30 p-2 rounded",children:"Lower = Better performance"})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20",children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-purple-600"}),"Benchmark Comparison"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Compared against similar buildings in database"}),e.jsx("div",{className:"text-xs bg-purple-100 dark:bg-purple-950/30 p-2 rounded",children:"Climate adjusted automatically"})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-950/20 dark:to-orange-950/20",children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-yellow-600"}),"Star Rating"]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"1-6 stars based on percentile ranking"}),e.jsx("div",{className:"text-xs bg-yellow-100 dark:bg-yellow-950/30 p-2 rounded",children:"6 stars = Top 25% performers"})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-100/80 to-emerald-100/80 dark:from-green-950/40 dark:to-emerald-950/40 rounded-lg border-l-4 border-l-green-500",children:[e.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-2",children:"✅ NCC 2025 Compliance Requirement"}),e.jsx("p",{className:"text-xs text-green-800 dark:text-green-200",children:"Commercial buildings over 1000m² must achieve minimum 3.5 star NABERS Energy rating for building permit approval."})]})]})},{title:"Step 4: Certification Process",icon:e.jsx(J,{className:"h-4 w-4 text-red-600"}),priority:"medium",isCompliance:!1,estimatedTime:"External process",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm",children:"Complete NABERS certification requirements for official rating:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border-l-4 border-l-red-500 bg-red-50/50 dark:bg-red-950/20 rounded-r-lg",children:[e.jsxs("div",{className:"font-medium text-sm mb-1 flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"Accredited Assessor",e.jsx(I,{variant:"destructive",className:"text-xs",children:"Mandatory"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Independent third-party verification required for official NABERS rating"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-orange-500 bg-orange-50/50 dark:bg-orange-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-1",children:"Data Verification Process"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Energy bills and building details verified independently by assessor"})]}),e.jsxs("div",{className:"p-3 border-l-4 border-l-blue-500 bg-blue-50/50 dark:bg-blue-950/20 rounded-r-lg",children:[e.jsx("div",{className:"font-medium text-sm mb-1",children:"Physical Site Inspection"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"On-site verification of building systems and boundary conditions"})]})]})]})}],n=[{title:"Office Building",description:"Standard commercial office setup",icon:e.jsx(V,{className:"h-4 w-4 text-blue-600"}),category:"templates",action:()=>{z({title:"Office Template Applied",description:"Standard office building parameters loaded for NABERS assessment."})}},{title:"Shopping Centre",description:"Retail/shopping centre configuration",icon:e.jsx(V,{className:"h-4 w-4 text-green-600"}),category:"templates",action:()=>{z({title:"Retail Template Applied",description:"Shopping centre template with typical energy patterns loaded."})}},{title:"Hotel/Accommodation",description:"Hotel and accommodation setup",icon:e.jsx(V,{className:"h-4 w-4 text-purple-600"}),category:"templates",action:()=>{z({title:"Hotel Template Applied",description:"Accommodation facility template with 24/7 operations loaded."})}},{title:"Upload Energy Bills",description:"Import 12 months of utility data",icon:e.jsx(ke,{className:"h-4 w-4 text-orange-600"}),category:"tools",action:()=>{z({title:"File Upload Ready",description:"Ready to import electricity and gas bills for analysis."})}},{title:"Check NLA Calculator",description:"Calculate Net Lettable Area correctly",icon:e.jsx(W,{className:"h-4 w-4 text-green-600"}),category:"tools",action:()=>{z({title:"NLA Calculator Opened",description:"Net Lettable Area calculation tool opened with NABERS guidelines."})}},{title:"Find Assessor",description:"Locate accredited NABERS assessor",icon:e.jsx(te,{className:"h-4 w-4 text-red-600"}),category:"certification",action:()=>{z({title:"Assessor Directory",description:"Opening NABERS accredited assessor directory for your location."})}}],i=["Collect 12 months of electricity bills (and gas if applicable)","Measure or obtain accurate Net Lettable Area (NLA) in square meters","Select correct building type from NABERS categories","Enter monthly energy consumption data systematically","Configure building operating hours and special equipment loads","Add green power purchases and on-site renewable generation","Review calculated energy intensity and preliminary star rating","Export results for accredited assessor verification and certification"],l=["Using Gross Floor Area (GFA) instead of Net Lettable Area (NLA) - can cause 20-30% error","Including tenant energy consumption in base building assessment","Using incomplete or mixed billing periods instead of full 12-month cycle","Incorrect climate zone selection affecting benchmark comparisons","Not accounting for green power purchases in renewable energy calculations","Missing on-site renewable energy generation data or incorrect metering","Incorrect building type classification leading to wrong benchmark comparison"];return e.jsx(rs,{open:s,onOpenChange:t,title:"NABERS Calculator",purpose:"Calculate NABERS Energy rating based on actual building energy consumption data and compare against national benchmarks for building performance certification.",nccRelevance:"REQUIRED for NCC 2025 compliance. Commercial buildings over 1000m² must achieve minimum 3.5 star NABERS Energy rating or demonstrate equivalent performance through alternative assessment methods.",sections:a,quickStart:i,commonErrors:l,quickActions:n,completionRate:35})},ct=({calculatorData:s,totalEmissions:t})=>{var p,d,c,h,j,g,b,S;const a=[{name:"NCC",value:((p=s.ncc)==null?void 0:p.totalEmissions)||0,color:"#ef4444"},{name:"NABERS",value:((d=s.nabers)==null?void 0:d.totalEmissions)||0,color:"#f97316"},{name:"LCA",value:((c=s.lca)==null?void 0:c.totalLCA)||0,color:"#eab308"},{name:"Scope",value:((h=s.scope)==null?void 0:h.totalEmissions)||0,color:"#22c55e"}].filter(N=>N.value>0),n=[{name:"NCC",score:(j=s.ncc)!=null&&j.isCompliant?100:0,target:80},{name:"NABERS",score:(g=s.nabers)!=null&&g.overallRating?s.nabers.overallRating*16.67:0,target:66.67},{name:"LEED",score:(b=s.leed)!=null&&b.totalPoints?s.leed.totalPoints/110*100:0,target:36.36},{name:"BREEAM",score:((S=s.breeam)==null?void 0:S.totalScore)||0,target:55}],i=[{month:"Jan",emissions:450},{month:"Feb",emissions:380},{month:"Mar",emissions:420},{month:"Apr",emissions:t/1e3||0}],l=()=>((500-t/1e3)/500*100).toFixed(1);return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Emissions Breakdown"]})}),e.jsx(w,{children:e.jsx("div",{className:"h-64",children:a.length>0?e.jsx(me,{width:"100%",height:"100%",children:e.jsxs(zs,{children:[e.jsx(Bs,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:a.map((N,v)=>e.jsx(Fs,{fill:N.color},`cell-${v}`))}),e.jsx(xe,{formatter:N=>[`${(N/1e3).toFixed(1)} t CO₂-e`,"Emissions"]})]})}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No emissions data available"})})})]}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Compliance Performance"]})}),e.jsx(w,{children:e.jsx("div",{className:"h-64",children:e.jsx(me,{width:"100%",height:"100%",children:e.jsxs(Us,{data:n,children:[e.jsx(Te,{strokeDasharray:"3 3"}),e.jsx(ze,{dataKey:"name"}),e.jsx(Be,{domain:[0,100]}),e.jsx(xe,{formatter:N=>[`${N.toFixed(1)}%`,"Score"]}),e.jsx(Fe,{dataKey:"score",fill:"hsl(var(--primary))",radius:[4,4,0,0]}),e.jsx(Fe,{dataKey:"target",fill:"hsl(var(--muted))",radius:[4,4,0,0]})]})})})})]}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(es,{className:"h-5 w-5 text-green-600"}),"Emissions Trend"]})}),e.jsx(w,{children:e.jsx("div",{className:"h-64",children:e.jsx(me,{width:"100%",height:"100%",children:e.jsxs(Vs,{data:i,children:[e.jsx(Te,{strokeDasharray:"3 3"}),e.jsx(ze,{dataKey:"month"}),e.jsx(Be,{}),e.jsx(xe,{formatter:N=>[`${N} t CO₂-e`,"Emissions"]}),e.jsx(Gs,{type:"monotone",dataKey:"emissions",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4}})]})})})})]}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Performance Summary"]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Carbon Reduction"}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"vs. baseline"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:[l(),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Standards Met"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"out of active"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:[n.filter(N=>N.score>=N.target).length,"/",n.length]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-950/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-purple-800 dark:text-purple-300",children:"Total Emissions"}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:"current period"})]}),e.jsxs("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:[(t/1e3).toFixed(1),"t"]})]})]})]})]})};var oe="Checkbox",[dt,Yt]=js(oe),[mt,Ae]=dt(oe);function xt(s){const{__scopeCheckbox:t,checked:a,children:n,defaultChecked:i,disabled:l,form:p,name:d,onCheckedChange:c,required:h,value:j="on",internal_do_not_use_render:g}=s,[b,S]=ys({prop:a,defaultProp:i??!1,onChange:c,caller:oe}),[N,v]=f.useState(null),[u,r]=f.useState(null),o=f.useRef(!1),m=N?!!p||!!N.closest("form"):!0,x={checked:b,disabled:l,setChecked:S,control:N,setControl:v,name:d,form:p,value:j,hasConsumerStoppedPropagationRef:o,required:h,defaultChecked:G(i)?!1:i,isFormControl:m,bubbleInput:u,setBubbleInput:r};return e.jsx(mt,{scope:t,...x,children:ut(g)?g(x):n})}var ns="CheckboxTrigger",is=f.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:a,...n},i)=>{const{control:l,value:p,disabled:d,checked:c,required:h,setControl:j,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:S,bubbleInput:N}=Ae(ns,s),v=Ze(i,j),u=f.useRef(c);return f.useEffect(()=>{const r=l==null?void 0:l.form;if(r){const o=()=>g(u.current);return r.addEventListener("reset",o),()=>r.removeEventListener("reset",o)}},[l,g]),e.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":G(c)?"mixed":c,"aria-required":h,"data-state":ms(c),"data-disabled":d?"":void 0,disabled:d,value:p,...n,ref:v,onKeyDown:Me(t,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:Me(a,r=>{g(o=>G(o)?!0:!o),N&&S&&(b.current=r.isPropagationStopped(),b.current||r.stopPropagation())})})});is.displayName=ns;var Ie=f.forwardRef((s,t)=>{const{__scopeCheckbox:a,name:n,checked:i,defaultChecked:l,required:p,disabled:d,value:c,onCheckedChange:h,form:j,...g}=s;return e.jsx(xt,{__scopeCheckbox:a,checked:i,defaultChecked:l,disabled:d,required:p,onCheckedChange:h,name:n,form:j,value:c,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(is,{...g,ref:t,__scopeCheckbox:a}),b&&e.jsx(ds,{__scopeCheckbox:a})]})})});Ie.displayName=oe;var ls="CheckboxIndicator",os=f.forwardRef((s,t)=>{const{__scopeCheckbox:a,forceMount:n,...i}=s,l=Ae(ls,a);return e.jsx(bs,{present:n||G(l.checked)||l.checked===!0,children:e.jsx(Se.span,{"data-state":ms(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...s.style}})})});os.displayName=ls;var cs="CheckboxBubbleInput",ds=f.forwardRef(({__scopeCheckbox:s,...t},a)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:p,required:d,disabled:c,name:h,value:j,form:g,bubbleInput:b,setBubbleInput:S}=Ae(cs,s),N=Ze(a,S),v=Ns(l),u=vs(n);f.useEffect(()=>{const o=b;if(!o)return;const m=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(m,"checked").set,_=!i.current;if(v!==l&&k){const E=new Event("click",{bubbles:_});o.indeterminate=G(l),k.call(o,G(l)?!1:l),o.dispatchEvent(E)}},[b,v,l,i]);const r=f.useRef(G(l)?!1:l);return e.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??r.current,required:d,disabled:c,name:h,value:j,form:g,...t,tabIndex:-1,ref:N,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ds.displayName=cs;function ut(s){return typeof s=="function"}function G(s){return s==="indeterminate"}function ms(s){return G(s)?"indeterminate":s?"checked":"unchecked"}const xs=f.forwardRef(({className:s,...t},a)=>e.jsx(Ie,{ref:a,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(os,{className:De("flex items-center justify-center text-current"),children:e.jsx(Cs,{className:"h-4 w-4"})})}));xs.displayName=Ie.displayName;const pt=({calculatorData:s,totalEmissions:t})=>{const[a,n]=f.useState({dashboard:!0,ncc:!0,nabers:!0,lca:!0,scope:!0,leed:!0,breeam:!0,greenstar:!0}),[i,l]=f.useState("pdf"),[p,d]=f.useState(!1),{toast:c}=ie(),h=r=>{n(o=>({...o,[r]:!o[r]}))},j=()=>{const r={metadata:{exportDate:new Date().toISOString(),totalEmissions:t,calculatorsUsed:Object.keys(a).filter(o=>a[o])}};return a.dashboard&&(r.dashboard={totalEmissions:t,complianceScore:g(),summary:"Dashboard overview with key metrics"}),a.ncc&&s.ncc&&(r.ncc=s.ncc),a.nabers&&s.nabers&&(r.nabers=s.nabers),a.lca&&s.lca&&(r.lca=s.lca),a.scope&&s.scope&&(r.scope=s.scope),a.leed&&s.leed&&(r.leed=s.leed),a.breeam&&s.breeam&&(r.breeam=s.breeam),a.greenstar&&s.greenStar&&(r.greenstar=s.greenStar),r},g=()=>{var m,x,k,_;let r=0,o=0;return((m=s.ncc)==null?void 0:m.isCompliant)!==void 0&&(o++,s.ncc.isCompliant&&r++),(x=s.nabers)!=null&&x.overallRating&&(o++,s.nabers.overallRating>=4&&r++),(k=s.leed)!=null&&k.certificationLevel&&(o++,s.leed.certificationLevel!=="Not Certified"&&r++),(_=s.breeam)!=null&&_.rating&&(o++,s.breeam.rating!=="Unclassified"&&r++),o>0?Math.round(r/o*100):0},b=r=>{const o=[];o.push(["Section","Metric","Value","Unit"]),r.dashboard&&(o.push(["Dashboard","Total Emissions",r.dashboard.totalEmissions/1e3,"t CO₂-e"]),o.push(["Dashboard","Compliance Score",r.dashboard.complianceScore,"%"])),Object.keys(r).forEach(E=>{if(E!=="metadata"&&E!=="dashboard"&&r[E]){const L=r[E];Object.keys(L).forEach(C=>{typeof L[C]=="number"&&o.push([E.toUpperCase(),C,L[C],""])})}});const m=o.map(E=>E.join(",")).join(`
`),x=new Blob([m],{type:"text/csv"}),k=URL.createObjectURL(x),_=document.createElement("a");_.href=k,_.download=`carbon-calculator-export-${new Date().toISOString().split("T")[0]}.csv`,_.click(),URL.revokeObjectURL(k)},S=r=>{const o=JSON.stringify(r,null,2),m=new Blob([o],{type:"application/json"}),x=URL.createObjectURL(m),k=document.createElement("a");k.href=x,k.download=`carbon-calculator-export-${new Date().toISOString().split("T")[0]}.json`,k.click(),URL.revokeObjectURL(x)},N=async r=>{try{const o=(await M(async()=>{const{default:E}=await import("./index-CHtXOOwB.js").then(L=>L.bH);return{default:E}},__vite__mapDeps([0,1]))).default,m=(await M(async()=>{const{default:E}=await import("./index-CHtXOOwB.js").then(L=>L.bI);return{default:E}},__vite__mapDeps([0,1]))).default,x=new o;x.setFontSize(24),x.setTextColor(40,116,166),x.text("CarbonConstruct",20,20),x.setFontSize(18),x.setTextColor(0,0,0),x.text("Carbon Footprint Assessment Report",20,35),x.setFontSize(14),x.text(`Total Emissions: ${(r.metadata.totalEmissions/1e3).toFixed(2)} t CO₂-e`,20,55),x.text(`Compliance Score: ${g()}%`,20,65),x.text(`Export Date: ${new Date(r.metadata.exportDate).toLocaleDateString()}`,20,75),x.text(`Calculators Used: ${r.metadata.calculatorsUsed.join(", ")}`,20,85);const k=[];Object.keys(r).forEach(E=>{if(E!=="metadata"&&r[E]){const L=r[E];Object.keys(L).forEach(C=>{typeof L[C]=="number"&&k.push([E.toUpperCase(),C.replace(/([A-Z])/g," $1").trim(),L[C].toFixed(2),C.includes("Emissions")?"kg CO₂-e":""])})}}),x.autoTable({startY:100,head:[["Calculator","Metric","Value","Unit"]],body:k,theme:"striped",headStyles:{fillColor:[40,116,166]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:80},2:{cellWidth:30},3:{cellWidth:30}}});const _=x.internal.getNumberOfPages();for(let E=1;E<=_;E++)x.setPage(E),x.setFontSize(10),x.setTextColor(128,128,128),x.text(`Generated by CarbonConstruct | Page ${E} of ${_}`,20,280),x.text(new Date().toLocaleString(),150,280);x.save(`carbon-footprint-report-${new Date().toISOString().split("T")[0]}.pdf`)}catch(o){console.error("PDF generation error:",o),c({title:"PDF Export Error",description:"Failed to generate PDF. Please try again or use CSV/JSON export.",variant:"destructive"})}},v=async()=>{d(!0);try{const r=j();switch(i){case"csv":b(r);break;case"json":S(r);break;case"pdf":await N(r);break;default:throw new Error("Unsupported export format")}c({title:"Export Successful",description:`Data exported as ${i.toUpperCase()} format.`})}catch{c({title:"Export Failed",description:"There was an error exporting your data. Please try again.",variant:"destructive"})}finally{d(!1)}},u=async()=>{const r=j();if(navigator.share)try{await navigator.share({title:"Carbon Calculator Results",text:`Total Emissions: ${(t/1e3).toFixed(1)} t CO₂-e`,url:window.location.href})}catch(o){console.log("Error sharing:",o)}else await navigator.clipboard.writeText(JSON.stringify(r,null,2)),c({title:"Data Copied",description:"Calculation results copied to clipboard."})};return e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Export & Share Results"]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{children:"Export Format"}),e.jsxs(ws,{value:i,onValueChange:l,children:[e.jsx(ks,{children:e.jsx(Ss,{})}),e.jsxs(Es,{children:[e.jsx(ce,{value:"pdf",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"PDF Report"]})}),e.jsx(ce,{value:"csv",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"h-4 w-4"}),"CSV Data"]})}),e.jsx(ce,{value:"json",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-4 w-4"}),"JSON Data"]})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{children:"Include Sections"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a).map(([r,o])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xs,{id:r,checked:o,onCheckedChange:()=>h(r)}),e.jsx(X,{htmlFor:r,className:"text-sm capitalize",children:r==="greenstar"?"Green Star":r})]},r))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{onClick:v,disabled:p,className:"flex-1",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),p?"Exporting...":`Export as ${i.toUpperCase()}`]}),e.jsxs(T,{variant:"outline",onClick:u,className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),"Share"]})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Export Preview"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("div",{children:["• Total Emissions: ",(t/1e3).toFixed(1)," t CO₂-e"]}),e.jsxs("div",{children:["• Compliance Score: ",g(),"%"]}),e.jsxs("div",{children:["• Sections: ",Object.values(a).filter(Boolean).length," selected"]}),e.jsxs("div",{children:["• Format: ",i.toUpperCase()]})]})]})]})]})},ht=({calculatorData:s,totalEmissions:t})=>{const[a,n]=f.useState([{id:"1",role:"assistant",content:"Hello! I'm Claude Sonnet 4, your AI carbon consultant. I can analyze your calculations, provide reduction strategies, and answer questions about sustainable construction practices. How can I help optimize your project's carbon footprint?",timestamp:new Date,type:"chat"}]),[i,l]=f.useState(""),[p,d]=f.useState(!1),[c,h]=f.useState(!0),j=f.useRef(null),{toast:g}=ie(),b=()=>{var m;(m=j.current)==null||m.scrollIntoView({behavior:"smooth"})};f.useEffect(()=>{b()},[a]);const S=async m=>{try{h(!0);const{data:x,error:k}=await se.functions.invoke("claude-ai-chat",{body:{message:m,conversationHistory:a.slice(-6),calculatorData:s,totalEmissions:t,context:`User is working with CarbonConstruct calculator. Current project has ${(t/1e3).toFixed(1)} t CO₂-e total emissions.`}});if(k)throw console.error("Supabase function error:",k),k;if(x!=null&&x.error)throw console.error("Claude API error:",x.message),new Error(x.message);return(x==null?void 0:x.response)||N(m)}catch(x){return console.error("AI Response Error:",x),h(!1),N(m)}},N=m=>{const x=m.toLowerCase();return x.includes("reduce")||x.includes("lower")||x.includes("decrease")?`Based on your current emissions of ${(t/1e3).toFixed(1)} t CO₂-e, here are the top reduction strategies:

**Material Optimization (High Impact)**
• Switch to lower-carbon concrete alternatives (potential 15-30% reduction)
• Use recycled content materials where possible
• Source materials locally to reduce transport emissions

**Energy Efficiency (Medium Impact)**
• Improve building envelope performance for better NABERS rating
• Upgrade to high-performance glazing and insulation
• Optimize HVAC systems and controls

**Renewable Integration (Long-term)**
• Increase renewable energy percentage to exceed NCC minimums
• Consider on-site solar or wind generation
• Implement energy storage solutions

*Note: I'm currently offline but these are proven strategies. For detailed analysis, please try again when I'm reconnected.*`:x.includes("compliance")||x.includes("standard")||x.includes("ncc")||x.includes("nabers")?`**Compliance Analysis** (Offline Mode)

Based on your current data:
• **Total Emissions:** ${(t/1e3).toFixed(1)} t CO₂-e
• **NCC 2025:** ${t>15e4?"⚠️ Review energy intensity":"✅ Likely compliant"}
• **NABERS:** Target 4+ stars through operational efficiency
• **Green Star:** Focus on Materials and Energy categories

**Priority Actions:**
1. Energy intensity optimization for NCC compliance
2. Operational efficiency improvements for NABERS
3. Sustainable material selection for Green Star

*I'm currently offline. For detailed compliance analysis, please retry when I'm reconnected.*`:x.includes("cost")||x.includes("budget")||x.includes("roi")?`**Cost-Effective Carbon Reduction** (Offline Mode)

**High Impact, Low Cost (ROI < 2 years):**
• Material specification optimization (~2-5% project cost, 15-25% carbon reduction)
• Operational efficiency improvements (~1-3% cost, 10-20% reduction)

**Medium Impact, Medium Cost (ROI 2-5 years):**
• Energy system upgrades (~5-10% cost, 20-35% reduction)
• Enhanced building envelope (~8-15% cost, 15-30% reduction)

**High Impact, Higher Cost (ROI 5-8 years):**
• Renewable energy systems (~10-20% cost, 40-60% operational reduction)
• Advanced materials and systems (~15-25% cost, 30-50% total reduction)

*I'm currently offline. For detailed cost-benefit analysis, please retry when I'm reconnected.*`:`I'm currently experiencing connectivity issues and running in offline mode. 

**General Recommendations for ${(t/1e3).toFixed(1)} t CO₂-e project:**

• **Materials:** Review high-impact materials and consider lower-carbon alternatives
• **Energy:** Optimize building systems for better efficiency ratings
• **Compliance:** Ensure NCC 2025 energy requirements are met (≤150 kWh/m²)
• **Certification:** Consider Green Star or NABERS certification for added value

**Common Carbon Reduction Strategies:**
1. Material optimization (15-30% reduction potential)
2. Energy efficiency improvements (20-35% reduction)
3. Renewable energy integration (40-60% operational reduction)
4. Transport and logistics optimization (5-10% reduction)

Please try your question again when I'm reconnected for detailed, personalized analysis.`},v=async()=>{if(!i.trim())return;const m={id:Date.now().toString(),role:"user",content:i,timestamp:new Date,type:"chat"};n(x=>[...x,m]),l(""),d(!0);try{const x=await S(i),k={id:(Date.now()+1).toString(),role:"assistant",content:x,timestamp:new Date,type:"chat"};n(_=>[..._,k])}catch(x){console.error("Message handling error:",x),h(!1),g({title:"Connection Issue",description:"I'm having trouble connecting. Providing offline assistance.",variant:"destructive"});const k={id:(Date.now()+1).toString(),role:"assistant",content:N(i),timestamp:new Date,type:"chat"};n(_=>[..._,k])}finally{d(!1)}},u=async()=>{var m,x;d(!0);try{const k=`# Comprehensive Carbon Analysis Report

## Executive Summary
Your project shows a total carbon footprint of **${(t/1e3).toFixed(1)} t CO₂-e**. Here's my detailed analysis:

## Key Findings
1. **Embodied Carbon**: ${(m=s.lca)!=null&&m.embodiedCarbon?`${(s.lca.embodiedCarbon/1e3).toFixed(1)} t CO₂-e`:"Not calculated"}
2. **Operational Carbon**: ${(x=s.lca)!=null&&x.operationalCarbon?`${(s.lca.operationalCarbon/1e3).toFixed(1)} t CO₂-e`:"Not calculated"}
3. **Compliance Status**: Mixed performance across standards

## Priority Recommendations
1. **Immediate (0-3 months)**: Material specification optimization
2. **Short-term (3-12 months)**: Energy system upgrades
3. **Long-term (1-3 years)**: Renewable energy integration

## Impact Projections
- Potential reduction: 25-40% of current emissions
- Cost implications: 5-15% of project budget
- Payback period: 3-7 years

Would you like me to dive deeper into any specific area?`,_={id:Date.now().toString(),role:"assistant",content:k,timestamp:new Date,type:"analysis"};n(E=>[...E,_])}finally{d(!1)}},r=async()=>{d(!0);try{const x={id:Date.now().toString(),role:"assistant",content:`# Smart Recommendations

## Top 3 Carbon Reduction Opportunities

### 1. Material Optimization (High Impact)
- **Action**: Replace standard concrete with low-carbon alternatives
- **Impact**: 15-25% reduction in embodied carbon
- **Cost**: +2-5% material costs
- **Timeline**: Immediate (design phase)

### 2. Energy System Upgrade (Medium Impact)
- **Action**: Enhance HVAC efficiency and controls
- **Impact**: 20-30% operational energy reduction
- **Cost**: +8-12% systems cost
- **Timeline**: 6-12 months

### 3. Renewable Energy Integration (Long-term)
- **Action**: Solar PV system installation
- **Impact**: 40-60% operational carbon reduction
- **Cost**: +10-15% total project cost
- **Timeline**: 12-24 months
- **ROI**: 5-8 years

## Implementation Roadmap
1. **Month 1-2**: Material specification changes
2. **Month 3-6**: Energy system design optimization
3. **Month 6-12**: Renewable energy system integration

Each recommendation is tailored to your specific project profile and compliance requirements.`,timestamp:new Date,type:"recommendation"};n(k=>[...k,x])}finally{d(!1)}},o=["How can I reduce my carbon footprint by 30%?","What are the most cost-effective improvements?","Help me achieve NABERS 5-star rating","Analyze my material choices","Compare renewable energy options"];return e.jsxs("div",{className:"space-y-6 max-h-[calc(100vh-12rem)] overflow-hidden",children:[e.jsxs(y,{className:"flex-shrink-0",children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"h-5 w-5 text-primary"}),e.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 rounded-full animate-pulse ${c?"bg-green-500":"bg-red-500"}`})]}),e.jsx("span",{children:"Claude Sonnet 4 AI Assistant"}),!c&&e.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Offline Mode"})]})]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${c?"bg-green-50 dark:bg-green-950/20":"bg-red-50 dark:bg-red-950/20"}`,children:[c?e.jsx(Xs,{className:"h-5 w-5 text-green-600"}):e.jsx(Le,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${c?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300"}`,children:c?"AI Connected":"Offline Mode"}),e.jsx("div",{className:`text-xs ${c?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:c?"Real-time Claude AI":"Fallback responses"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[e.jsx(Q,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Analysis Ready"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Real-time insights"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 dark:bg-purple-950/20 rounded-lg",children:[e.jsx(Xe,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-300",children:"Recommendations"}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Optimized for ROI"})]})]})]})})]}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsxs(Re,{defaultValue:"chat",className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 mb-4",children:e.jsxs(Ye,{children:[e.jsx(ee,{value:"chat",children:"Chat"}),e.jsx(ee,{value:"analysis",onClick:u,children:"Analysis"}),e.jsx(ee,{value:"recommendations",onClick:r,children:"Recommendations"})]})}),e.jsx(O,{value:"chat",className:"flex-1 min-h-0 mt-0",children:e.jsx(y,{className:"h-full flex flex-col",children:e.jsxs(w,{className:"flex-1 flex flex-col p-4 min-h-0",children:[e.jsx(qs,{className:"flex-1 min-h-[500px] max-h-[70vh] pr-4",children:e.jsxs("div",{className:"space-y-4",children:[a.map(m=>e.jsx("div",{className:`flex gap-3 ${m.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex gap-3 max-w-[80%] ${m.role==="user"?"flex-row-reverse":""}`,children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:m.role==="user"?e.jsx(Rs,{className:"h-4 w-4 text-primary"}):e.jsx(Ue,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{className:`rounded-lg p-3 ${m.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:m.content}),e.jsxs("div",{className:"text-xs opacity-70 mt-1",children:[m.timestamp.toLocaleTimeString(),m.type&&e.jsx(I,{variant:"outline",className:"ml-2 text-xs",children:m.type})]})]})]})},m.id)),p&&e.jsx("div",{className:"flex gap-3 justify-start",children:e.jsxs("div",{className:"flex gap-3 max-w-[80%]",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(Ue,{className:"h-4 w-4 text-primary"})}),e.jsx("div",{className:"rounded-lg p-3 bg-muted",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Claude is thinking..."})]})})]})}),e.jsx("div",{ref:j})]})}),e.jsxs("div",{className:"flex-shrink-0 py-3 space-y-2 border-t",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Quick prompts:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(m=>e.jsx(T,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>l(m),children:m},m))})]}),e.jsxs("div",{className:"flex-shrink-0 flex gap-2 pt-2",children:[e.jsx(we,{value:i,onChange:m=>l(m.target.value),placeholder:c?"Ask Claude about carbon optimization strategies...":"Ask me about carbon optimization (offline mode)...",className:"flex-1",onKeyPress:m=>m.key==="Enter"&&v()}),e.jsx(T,{onClick:v,disabled:p||!i.trim(),children:p?e.jsx(ge,{className:"h-4 w-4 animate-spin"}):e.jsx(As,{className:"h-4 w-4"})})]})]})})}),e.jsx(O,{value:"analysis",className:"flex-1 min-h-0 mt-0",children:e.jsx(y,{className:"h-full",children:e.jsx(w,{className:"p-4",children:e.jsx("div",{className:"text-center",children:"Analysis content will appear here when generated."})})})}),e.jsx(O,{value:"recommendations",className:"flex-1 min-h-0 mt-0",children:e.jsx(y,{className:"h-full",children:e.jsx(w,{className:"p-4",children:e.jsx("div",{className:"text-center",children:"Recommendations will appear here when generated."})})})})]})})]})},gt=()=>{const{user:s,profile:t}=le(),a=Hs(s==null?void 0:s.id),n=f.useCallback(async(d,c,h)=>{var j;if(!(!(s!=null&&s.id)||!((j=t==null?void 0:t.calculator_preferences)!=null&&j.auto_save_calculations)))try{const g=h.totalEmissions||h.totalLCA||h.totalCO2e||h.carbonImpact||0;let b="unknown";const S=t.compliance_thresholds||{};if(g>0){const u=S[d]||S.default||S.ncc||1e4;b=g<=u?"compliant":"non_compliant"}const N=ft(t.focus_areas||[],h,d);await a.saveCalculationHistory(d,c,h,g,b,N);const v=t.carbon_footprint_goals||{};v.monthly_target&&g>v.monthly_target*.8&&await a.createComplianceAlert("carbon_threshold","High Carbon Footprint Detected",`Your recent ${d} calculation (${g.toFixed(1)} kg CO₂-e) is approaching your monthly target of ${v.monthly_target} kg CO₂-e.`,"warning",d,!0)}catch(g){console.error("Error saving calculation with personalization:",g)}},[s,t]),i=f.useCallback(d=>{if(!t)return{};t.calculator_preferences;const c={};t.default_region&&(c.region=t.default_region),t.preferred_units&&(c.units=t.preferred_units);const h=t.focus_areas||[];return d==="lca"&&(h.includes("Material Sustainability")&&(c.includeRecycledContent=!0),h.includes("Energy Efficiency")&&(c.includeOperationalEnergy=!0)),d==="green_star"&&h.includes("Green Star Certification")&&(c.targetRating="Good Practice"),c},[t]),l=f.useCallback(()=>{if(!(t!=null&&t.focus_areas))return[];const d=t.focus_areas,c=[];return d.includes("Material Sustainability")&&c.push("recycled_content","low_carbon","local_materials"),d.includes("Energy Efficiency")&&c.push("insulation","high_performance_glazing"),d.includes("Water Management")&&c.push("permeable_paving","water_efficient"),c},[t]),p=f.useCallback((d,c)=>{if(!(t!=null&&t.compliance_thresholds))return null;const h=t.compliance_thresholds,j=h[d]||h.default;return j&&c>j?{exceeded:!0,threshold:j,exceedance:c-j,percentage:(c-j)/j*100}:{exceeded:!1,threshold:j}},[t]);return{saveCalculationWithPersonalization:n,getPersonalizedDefaults:i,getRecommendedMaterials:l,checkComplianceThresholds:p,...a}};function ft(s,t,a){const n=[];return s.includes("Material Sustainability")&&t.materialEmissions>0&&(n.push("Consider using materials with lower embodied carbon"),n.push("Explore recycled content alternatives")),s.includes("Energy Efficiency")&&t.energyEmissions>0&&(n.push("Improve building envelope performance"),n.push("Consider renewable energy integration")),s.includes("Carbon Footprint Reduction")&&(n.push("Review high-impact materials in your selection"),n.push("Consider local sourcing to reduce transport emissions")),a==="green_star"&&t.totalPoints<60&&n.push("Focus on energy and materials categories for maximum impact"),a==="lca"&&t.embodiedCarbon>t.operationalCarbon&&n.push("Material selection has high impact on overall footprint"),n}const jt=()=>{const[s,t]=f.useState({ncc:null,nabers:null,lca:null,scope:null,leed:null,breeam:null,greenStar:null}),[a,n]=f.useState([]),[i,l]=f.useState(!1),[p,d]=f.useState(!1),{user:c}=le(),{toast:h}=ie(),j=()=>{var r,o,m,x;let u=0;return(r=s.ncc)!=null&&r.totalEmissions&&(u+=s.ncc.totalEmissions),(o=s.nabers)!=null&&o.totalEmissions&&(u+=s.nabers.totalEmissions),(m=s.lca)!=null&&m.totalLCA&&(u+=s.lca.totalLCA),(x=s.scope)!=null&&x.totalEmissions&&(u+=s.scope.totalEmissions),u},g=()=>{var o,m,x,k;let u=0,r=0;return((o=s.ncc)==null?void 0:o.isCompliant)!==void 0&&(r++,s.ncc.isCompliant&&u++),(m=s.nabers)!=null&&m.overallRating&&(r++,s.nabers.overallRating>=4&&u++),(x=s.leed)!=null&&x.certificationLevel&&(r++,s.leed.certificationLevel!=="Not Certified"&&u++),(k=s.breeam)!=null&&k.rating&&(r++,s.breeam.rating!=="Unclassified"&&u++),r>0?Math.round(u/r*100):0},b=async()=>{if(c){l(!0);try{const{data:u,error:r}=await se.from("projects").select("id, name, result, total, created_at, updated_at").eq("user_id",c.id).not("result","is",null).order("updated_at",{ascending:!1});if(r)throw r;const o=(u==null?void 0:u.map(m=>({id:m.id,name:m.name,data:m.result||{ncc:null,nabers:null,lca:null,scope:null,leed:null,breeam:null,greenStar:null},total_emissions:m.total||0,created_at:m.created_at,updated_at:m.updated_at})))||[];n(o)}catch(u){console.error("Error loading saved calculations:",u),h({title:"Error",description:"Failed to load saved calculations.",variant:"destructive"})}finally{l(!1)}}},S=async u=>{if(!c)return h({title:"Authentication Required",description:"Please sign in to save your calculations.",variant:"destructive"}),!1;d(!0);try{const r=j(),o=g(),{data:m,error:x}=await se.from("projects").insert({name:u,description:`Carbon calculation - ${o}% compliance score`,result:s,total:r,region:"Australia",tags:["carbon-calculation","calculator-pro"],user_id:c.id}).select().single();if(x)throw x;return h({title:"Calculation Saved",description:`Your calculation "${u}" has been saved successfully.`}),await b(),!0}catch(r){return console.error("Error saving calculation:",r),h({title:"Save Failed",description:"Failed to save your calculation. Please try again.",variant:"destructive"}),!1}finally{d(!1)}},N=async u=>{l(!0);try{const{data:r,error:o}=await se.from("projects").select("result").eq("id",u).eq("user_id",c==null?void 0:c.id).single();if(o)throw o;if(r!=null&&r.result){const m=r.result;t(m),h({title:"Calculation Loaded",description:"Your saved calculation has been loaded successfully."})}}catch(r){console.error("Error loading calculation:",r),h({title:"Load Failed",description:"Failed to load the calculation.",variant:"destructive"})}finally{l(!1)}},v={ncc:u=>t(r=>({...r,ncc:u})),nabers:u=>t(r=>({...r,nabers:u})),lca:u=>t(r=>({...r,lca:u})),scope:u=>t(r=>({...r,scope:u})),leed:u=>t(r=>({...r,leed:u})),breeam:u=>t(r=>({...r,breeam:u})),greenStar:u=>t(r=>({...r,greenStar:u}))};return f.useEffect(()=>{c&&b()},[c]),{calculatorData:s,savedCalculations:a,isLoading:i,isSaving:p,totalEmissions:j(),complianceScore:g(),updateHandlers:v,saveCalculation:S,loadCalculation:N,loadSavedCalculations:b,user:c}},bt=()=>{const{user:s,profile:t}=le(),{toast:a}=ie(),n=jt(),i=gt(),[l,p]=f.useState({}),[d,c]=f.useState(!1);return f.useEffect(()=>{if(s&&t){const v={lca:i.getPersonalizedDefaults("lca"),scope:i.getPersonalizedDefaults("scope"),green_star:i.getPersonalizedDefaults("green_star"),nabers:i.getPersonalizedDefaults("nabers"),ncc:i.getPersonalizedDefaults("ncc"),leed:i.getPersonalizedDefaults("leed"),breeam:i.getPersonalizedDefaults("breeam")};p(v)}},[s,t]),{...n,saveCalculation:async v=>{const u=await n.saveCalculation(v);if(u&&s){const r=Object.keys(n.calculatorData).filter(o=>n.calculatorData[o]!==null);for(const o of r){const m=n.calculatorData[o],x=m;await i.saveCalculationWithPersonalization(o,m,x)}a({title:"Calculation Saved & Analyzed",description:"Your calculation has been saved and added to your personalization history."})}return u},applyPersonalizedDefaults:async v=>{if(l[v]){c(!0);try{const u=l[v],r=n.updateHandlers[v];r&&(r(u),a({title:"Defaults Applied",description:`Your personalized settings have been applied to the ${v.toUpperCase()} calculator.`}))}catch(u){console.error("Error applying personalized defaults:",u),a({title:"Error",description:"Failed to apply personalized defaults.",variant:"destructive"})}finally{c(!1)}}},applyTemplateDefaults:v=>{v.calculatorTypes.forEach(u=>{const r=v.defaultValues[u];r&&n.updateHandlers[u]&&n.updateHandlers[u](r)})},getRecommendedMaterials:()=>i.getRecommendedMaterials(),checkPersonalizedCompliance:v=>{const u=n.totalEmissions;return i.checkComplianceThresholds(v,u)},getCalculationInsights:()=>{const v=i.calculationHistory,u=n.totalEmissions;if(v.length===0)return null;const r=v.reduce((m,x)=>m+(x.carbon_footprint||0),0)/v.length,o=r>0?(r-u)/r*100:0;return{averageEmissions:r,currentEmissions:u,improvement:o,isImprovement:o>0,calculationCount:v.length}},personalizedDefaults:l,isApplyingDefaults:d,...i}},yt=[{id:"residential_standard",name:"Standard Residential Project",description:"Typical single-family home with standard construction materials",category:"Residential",icon:e.jsx(Je,{className:"h-5 w-5"}),calculatorTypes:["lca","ncc","nabers"],defaultValues:{lca:{buildingType:"residential",area:200,materials:["concrete","steel","timber"]},ncc:{climateZone:"Zone 6",buildingClass:"Class 1"}},tags:["residential","standard","family-home"]},{id:"commercial_office",name:"Commercial Office Building",description:"Multi-story office building with typical commercial specifications",category:"Commercial",icon:e.jsx(V,{className:"h-5 w-5"}),calculatorTypes:["lca","scope","nabers","green_star"],defaultValues:{lca:{buildingType:"commercial",area:5e3,floors:8},scope:{operationalEnergy:!0,transportEmissions:!0}},tags:["commercial","office","multi-story"]},{id:"industrial_warehouse",name:"Industrial Warehouse",description:"Large-scale warehouse or manufacturing facility",category:"Industrial",icon:e.jsx(Ce,{className:"h-5 w-5"}),calculatorTypes:["lca","scope","breeam"],defaultValues:{lca:{buildingType:"industrial",area:1e4,materials:["steel","concrete","cladding"]}},tags:["industrial","warehouse","manufacturing"]},{id:"green_building",name:"Green Star Certified Building",description:"High-performance building targeting Green Star certification",category:"Sustainable",icon:e.jsx(q,{className:"h-5 w-5"}),calculatorTypes:["green_star","lca","nabers","leed"],defaultValues:{green_star:{targetRating:"World Leadership",sustainableMaterials:!0},lca:{includeRecycledContent:!0,renewableEnergy:!0}},tags:["green-star","sustainable","high-performance"]}],us=({onSelectTemplate:s,userFocusAreas:t=[],recentTemplates:a=[]})=>{const n=yt.sort((l,p)=>{const d=l.tags.filter(g=>t.some(b=>b.toLowerCase().includes(g))).length,c=p.tags.filter(g=>t.some(b=>b.toLowerCase().includes(g))).length;if(d!==c)return c-d;const h=a.includes(l.id)?1:0;return(a.includes(p.id)?1:0)-h}),i=l=>l.tags.filter(d=>t.some(c=>c.toLowerCase().includes(d))).length>0?"Recommended":a.includes(l.id)?"Recent":null;return e.jsxs(y,{children:[e.jsxs(R,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Calculator Templates"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quick start with pre-configured calculator settings for common project types"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(l=>{const p=i(l);return e.jsx(y,{className:"cursor-pointer hover:bg-accent transition-colors",children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[l.icon,e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:l.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.category})]})]}),p&&e.jsx(I,{variant:p==="Recommended"?"default":"secondary",className:"text-xs",children:p})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.calculatorTypes.map(d=>e.jsx(I,{variant:"outline",className:"text-xs",children:d.toUpperCase()},d))}),e.jsx(T,{variant:"outline",size:"sm",className:"w-full",onClick:()=>s(l),children:"Use Template"})]})})},l.id)})}),t.length===0&&e.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"💡 Sign in and set your focus areas in your profile to get personalized template recommendations"})})]})]})},Nt=({totalEmissions:s,complianceScore:t,insights:a,complianceCheck:n,recommendedMaterials:i,onApplyDefaults:l,calculationHistory:p,isApplyingDefaults:d,onTemplateSelect:c,userFocusAreas:h=[]})=>{var j;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(y,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Emissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(s/1e3).toFixed(1)," t CO₂-e"]})]}),e.jsx(W,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(y,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compliance Score"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t,"%"]})]}),e.jsx(Q,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(y,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Calculations"}),e.jsx("p",{className:"text-2xl font-bold",children:p.length})]}),e.jsx(ne,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(y,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Improvement"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[((j=a==null?void 0:a.improvement)==null?void 0:j.toFixed(1))||"0","%"]}),a!=null&&a.isImprovement?e.jsx(es,{className:"h-4 w-4 text-green-600"}):e.jsx(Y,{className:"h-4 w-4 text-red-600"})]})]}),e.jsx(q,{className:"h-8 w-8 text-warning"})]})})})]}),a&&e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Performance Insights"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Your Average Emissions"}),e.jsxs("span",{className:"font-medium",children:[(a.averageEmissions/1e3).toFixed(1)," t CO₂-e"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Current Calculation"}),e.jsxs("span",{className:"font-medium",children:[(a.currentEmissions/1e3).toFixed(1)," t CO₂-e"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Improvement from Average"}),e.jsxs(I,{variant:a.isImprovement?"default":"destructive",children:[a.isImprovement?"-":"+",Math.abs(a.improvement).toFixed(1),"%"]})]}),e.jsx(We,{value:Math.min(Math.abs(a.improvement),100),className:"h-2"})]})]})})]}),n&&n.exceeded&&e.jsxs(y,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950/30",children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300",children:[e.jsx(Is,{className:"h-5 w-5"}),"Compliance Alert"]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:["Your calculation exceeds the threshold by"," ",e.jsxs("span",{className:"font-medium",children:[(n.exceedance/1e3).toFixed(1)," t CO₂-e"]}),"(",n.percentage.toFixed(1),"% over limit)"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target: ",(n.threshold/1e3).toFixed(1)," t CO₂-e"]})]})})]}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Quick Access Tools"]})}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["lca","scope","green_star","nabers"].map(g=>e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>l(g),disabled:d,className:"justify-start",children:["Apply ",g.toUpperCase()," Defaults"]},g))})})]}),i.length>0&&e.jsxs(y,{children:[e.jsx(R,{children:e.jsx(A,{children:"Recommended Materials"})}),e.jsxs(w,{children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((g,b)=>e.jsx(I,{variant:"secondary",children:g.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},b))}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Based on your focus areas and sustainability preferences"})]})]}),e.jsx(us,{onSelectTemplate:c,userFocusAreas:h,recentTemplates:[]}),p.length>1&&e.jsxs(y,{children:[e.jsx(R,{children:e.jsx(A,{children:"Recent Calculation Trends"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:p.slice(0,3).map(g=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:g.calculator_type.replace("_"," ").replace(/\b\w/g,b=>b.toUpperCase())}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(g.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-sm",children:[g.carbon_footprint?(g.carbon_footprint/1e3).toFixed(1):"N/A"," t CO₂-e"]}),e.jsx(I,{variant:g.compliance_status==="compliant"?"default":"destructive",className:"text-xs",children:g.compliance_status||"unknown"})]})]},g.id))})})]})]})},F=({children:s,feature:t,fallbackComponent:a,className:n,onReset:i})=>{const{key:l,isChecking:p,handleReset:d,handleError:c}=_s(t,i),h=B.useCallback(({error:g,resetErrorBoundary:b})=>e.jsx(Ps,{error:g,isNetworkError:Ms(g),isChecking:p,onReset:b}),[p]),j=a||h;return e.jsx("div",{className:n,children:e.jsx(Ds,{FallbackComponent:j,onError:c,onReset:d,children:s},`streamlined-${t}-${l}`)})};function Ge({size:s="medium",className:t=""}){const a={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"};return e.jsx("div",{className:`flex items-center justify-center ${t}`,children:e.jsx("div",{className:`${a[s]} animate-spin rounded-full border-4 border-gray-200 border-t-blue-600`,role:"status","aria-label":"Loading"})})}const U=({type:s="spinner",message:t="Loading...",progress:a,className:n="",size:i="md"})=>{const l={sm:"h-32",md:"h-48",lg:"h-64"};return s==="skeleton"?e.jsxs("div",{className:`space-y-4 ${n}`,children:[e.jsx($,{className:"h-8 w-3/4"}),e.jsx($,{className:"h-4 w-full"}),e.jsx($,{className:"h-4 w-2/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((p,d)=>e.jsx(y,{children:e.jsxs(w,{className:"p-4",children:[e.jsx($,{className:"h-4 w-full mb-2"}),e.jsx($,{className:"h-3 w-2/3 mb-2"}),e.jsx($,{className:"h-3 w-1/2"})]})},d))})]}):s==="card"?e.jsx(y,{className:`${l[i]} ${n}`,children:e.jsxs(w,{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(Ge,{size:i==="sm"?"small":i==="md"?"medium":"large"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:t}),typeof a=="number"&&e.jsxs("div",{className:"w-full max-w-xs mt-4",children:[e.jsx("div",{className:"bg-secondary rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,a))}%`}})}),e.jsxs("p",{className:"text-xs text-center mt-2",children:[Math.round(a),"%"]})]})]})}):e.jsxs("div",{className:`flex flex-col items-center justify-center ${l[i]} ${n}`,children:[e.jsx(Ge,{size:i==="sm"?"small":i==="md"?"medium":"large"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:t})]})},pe=(s,t={})=>{const{preloadDelay:a=2e3,enableIntersectionObserver:n=!0,threshold:i=.1}=t,[l,p]=f.useState(!1),[d,c]=f.useState(!1);f.useEffect(()=>{if(!l){const g=setTimeout(()=>{de(s),p(!0)},a);return()=>clearTimeout(g)}},[s,a,l]);const h=f.useCallback(g=>{if(!n||!g)return;const b=new IntersectionObserver(([S])=>{S.isIntersecting&&!l&&(de(s),p(!0),c(!0))},{threshold:i});return b.observe(g),()=>{b.disconnect()}},[s,n,i,l]),j=f.useCallback(()=>{l||(de(s),p(!0))},[s,l]);return{isPreloaded:l,isIntersecting:d,observerRef:h,preload:j}},vt=({onSave:s,isSaving:t,totalEmissions:a,complianceScore:n,children:i})=>{const[l,p]=f.useState(!1),[d,c]=f.useState(""),h=async g=>{if(g.preventDefault(),!d.trim())return;await s(d.trim())&&(c(""),p(!1))},j=()=>{const g=new Date().toLocaleDateString(),b=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});c(`Carbon Calculation - ${g} ${b}`)};return e.jsxs(je,{open:l,onOpenChange:p,children:[e.jsx(Ls,{asChild:!0,children:i}),e.jsxs(be,{className:"sm:max-w-md",children:[e.jsx(ye,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5"}),"Save Calculation"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(y,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Emissions"}),e.jsxs("div",{className:"font-bold text-red-600",children:[(a/1e3).toFixed(1)," t CO₂-e"]})]})]})})}),e.jsx(y,{children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Compliance"}),e.jsxs("div",{className:"font-bold text-green-600",children:[n,"%"]})]})]})})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"calculation-name",children:"Calculation Name"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(we,{id:"calculation-name",value:d,onChange:g=>c(g.target.value),placeholder:"Enter a name for your calculation...",className:"flex-1"}),e.jsx(T,{type:"button",variant:"outline",onClick:j,className:"shrink-0",children:e.jsx(ae,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),e.jsx(T,{type:"submit",disabled:!d.trim()||t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})]})]})]})},Ct=({totalEmissions:s,complianceScore:t,isSaving:a,user:n,actions:i,onSave:l})=>e.jsx("div",{className:"bg-card shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary p-2 rounded-lg",children:e.jsx(re,{className:"h-8 w-8 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Carbon Calculator Pro"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive Environmental Impact Assessment with AI"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Emissions"}),e.jsxs("div",{className:"text-lg font-bold text-destructive",children:[(s/1e3).toFixed(1)," t CO₂-e"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:i.resetAll,className:"text-destructive hover:text-destructive",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Reset All"]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>i.exportData("pdf"),children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsx(vt,{onSave:l,isSaving:a,totalEmissions:s,complianceScore:t,children:e.jsxs(T,{variant:"outline",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),n?"Save":"Sign in to Save"]})})]})]})]})})}),wt=({activeTab:s,onTabChange:t,onHelpModalOpen:a,actions:n})=>{const i=[{id:"dashboard",label:"Dashboard",icon:ne},{id:"ncc",label:"NCC",icon:V,help:!0},{id:"nabers",label:"NABERS",icon:q,help:!0},{id:"lca",label:"LCA",icon:ve,help:!0},{id:"scope",label:"Scope 1-3",icon:H,help:!0},{id:"leed",label:"LEED",icon:J,help:!0},{id:"breeam",label:"BREEAM",icon:J,help:!0},{id:"greenstar",label:"Green Star",icon:q,help:!0},{id:"construction",label:"Integrations",icon:ts},{id:"ai",label:"AI Assistant",icon:Ee},{id:"admin",label:"Admin Status",icon:Ke}];return e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[e.jsx(Re,{value:s,onValueChange:t,className:"flex-1",children:e.jsx(Ye,{className:"grid grid-cols-5 lg:grid-cols-11 w-full",children:i.map(l=>{const p=l.icon;return e.jsxs(ee,{value:l.id,className:"flex items-center gap-2 relative",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:l.label}),l.help&&e.jsx(st,{onClick:()=>a(l.id),className:"ml-1",asIcon:!0})]},l.id)})})}),s!=="dashboard"&&s!=="construction"&&s!=="ai"&&s!=="admin"&&e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>n.resetCalculator(s),className:"text-destructive hover:text-destructive",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Reset ",s.toUpperCase()]})]})},kt=(s,t,a)=>{const n=f.useCallback(()=>{Object.keys(t).forEach(d=>{t[d]({})}),Z("All calculators reset",{description:"All calculation data has been cleared"})},[t]),i=f.useCallback(d=>{t[d]&&(t[d]({}),Z(`${d.toUpperCase()} calculator reset`,{description:"Calculator data has been cleared"}))},[t]),l=f.useCallback(d=>{d.calculatorTypes.forEach(c=>{const h=d.defaultValues[c];h&&t[c]&&t[c](h)}),Z("Template applied",{description:`${d.name} defaults have been applied to calculators`})},[t]),p=f.useCallback(async d=>{try{const c={metadata:{exportDate:new Date().toISOString(),totalEmissions:a,calculatorsUsed:Object.keys(s).filter(h=>s[h]&&Object.keys(s[h]).length>0)},...s};switch(d){case"csv":await St(c);break;case"json":await Et(c);break;case"pdf":await Rt(c);break}Z("Export successful",{description:`Data exported as ${d.toUpperCase()}`})}catch{Z("Export failed",{description:"There was an error exporting your data"})}},[s,a]);return{resetAll:n,resetCalculator:i,applyTemplate:l,exportData:p}},St=async s=>{const t=[["Section","Metric","Value","Unit"]];Object.keys(s).forEach(n=>{if(n!=="metadata"&&s[n]){const i=s[n];Object.keys(i).forEach(l=>{typeof i[l]=="number"&&t.push([n.toUpperCase(),l,i[l].toString(),""])})}});const a=t.map(n=>n.join(",")).join(`
`);ps(a,"text/csv","carbon-calculator-export.csv")},Et=async s=>{const t=JSON.stringify(s,null,2);ps(t,"application/json","carbon-calculator-export.json")},Rt=async s=>{const t=(await M(async()=>{const{default:i}=await import("./index-CHtXOOwB.js").then(l=>l.bH);return{default:i}},__vite__mapDeps([0,1]))).default;await M(()=>import("./index-CHtXOOwB.js").then(i=>i.bI),__vite__mapDeps([0,1]));const a=new t;a.setFontSize(20),a.text("Carbon Footprint Report",20,20),a.setFontSize(14),a.text(`Total Emissions: ${(s.metadata.totalEmissions/1e3).toFixed(2)} t CO₂-e`,20,40),a.text(`Export Date: ${new Date(s.metadata.exportDate).toLocaleDateString()}`,20,50);const n=[];Object.keys(s).forEach(i=>{if(i!=="metadata"&&s[i]){const l=s[i];Object.keys(l).forEach(p=>{typeof l[p]=="number"&&n.push([i.toUpperCase(),p,l[p].toFixed(2),"kg CO₂-e"])})}}),a.autoTable({startY:70,head:[["Calculator","Metric","Value","Unit"]],body:n}),a.save("carbon-footprint-report.pdf")},ps=(s,t,a)=>{const n=new Blob([s],{type:t}),i=URL.createObjectURL(n),l=document.createElement("a");l.href=i,l.download=a,l.click(),URL.revokeObjectURL(i)},At=B.lazy(()=>M(()=>import("./NCCCalculator-CIUwqzp6.js"),__vite__mapDeps([2,0,1,3,4,5,6,7,8,9,10,11,12,13,14])).then(s=>({default:s.NCCCalculator}))),It=B.lazy(()=>M(()=>import("./NABERSCalculator-BVcDt6PB.js"),__vite__mapDeps([15,0,1,3,4,5,6,7,10,8,9,11,12,13,14])).then(s=>({default:s.NABERSCalculator}))),_t=B.lazy(()=>M(()=>import("./LCACalculator-Cr8YI4kR.js"),__vite__mapDeps([16,0,1,3,4,5,6,7,10,8,9,11,12,13,14])).then(s=>({default:s.LCACalculator}))),Pt=B.lazy(()=>M(()=>import("./ScopeCalculator-DgQxc7aR.js"),__vite__mapDeps([17,0,1,3,4,5,6,7,8,9,10,11,12,13,14])).then(s=>({default:s.ScopeCalculator}))),Mt=B.lazy(()=>M(()=>import("./LEEDCalculator-AUege25U.js"),__vite__mapDeps([18,0,1,3,4,5,6,7,8,9,10,11,12,13,14])).then(s=>({default:s.LEEDCalculator}))),Dt=B.lazy(()=>M(()=>import("./BREEAMCalculator-DXsUp7Z8.js"),__vite__mapDeps([19,0,1,3,4,5,6,7,8,9,10,11,12,13,14])).then(s=>({default:s.BREEAMCalculator}))),Lt=B.lazy(()=>M(()=>import("./GreenStarCalculator-CMNjAeAb.js"),__vite__mapDeps([20,0,1,3,4,5,6,7,10,8,9,11,12,13,14])).then(s=>({default:s.GreenStarCalculator}))),Ot=B.lazy(()=>M(()=>import("./ConstructionIntegrations-Bah1SiTa.js"),__vite__mapDeps([21,0,1,6,11,8,9,5,4,10,12,7,13,14])).then(s=>({default:s.ConstructionIntegrations}))),Tt=B.lazy(()=>M(()=>import("./LazyAdminComponents-BW60EgqW.js"),__vite__mapDeps([22,0,1,8,9,5,4,10,11,12,7,13,14])).then(s=>({default:s.LazyAdminStatusChecker}))),zt=({demoMode:s=!1})=>{const[t,a]=f.useState("dashboard"),[n,i]=f.useState({ncc:!1,nabers:!1,lca:!1,scope:!1,leed:!1,breeam:!1,greenstar:!1}),{user:l,profile:p}=le(),{preload:d}=pe(()=>M(()=>import("./NCCCalculator-CIUwqzp6.js"),__vite__mapDeps([2,0,1,3,4,5,6,7,8,9,10,11,12,13,14])).then(C=>({default:C.NCCCalculator}))),{preload:c}=pe(()=>M(()=>import("./NABERSCalculator-BVcDt6PB.js"),__vite__mapDeps([15,0,1,3,4,5,6,7,10,8,9,11,12,13,14])).then(C=>({default:C.NABERSCalculator}))),{preload:h}=pe(()=>M(()=>import("./LCACalculator-Cr8YI4kR.js"),__vite__mapDeps([16,0,1,3,4,5,6,7,10,8,9,11,12,13,14])).then(C=>({default:C.LCACalculator})));B.useEffect(()=>{Oe.trackUserJourney("calculator_loaded","NewCalculator",{activeTab:t,userAuthenticated:!!l,demoMode:s})},[t,l,s]);const{calculatorData:j,isSaving:g,totalEmissions:b,complianceScore:S,updateHandlers:N,saveCalculation:v,applyPersonalizedDefaults:u,applyTemplateDefaults:r,getRecommendedMaterials:o,checkPersonalizedCompliance:m,getCalculationInsights:x,isApplyingDefaults:k,calculationHistory:_}=bt(),E=kt(j,N,b),L=C=>{r(C),C.calculatorTypes.length>0&&a(C.calculatorTypes[0])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-950/20 dark:to-blue-950/20",children:[e.jsx(Ct,{totalEmissions:b,complianceScore:S,isSaving:g,user:l,actions:E,onSave:v}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(Re,{value:t,onValueChange:a,className:"space-y-6",children:[e.jsx(wt,{activeTab:t,onTabChange:C=>{a(C),C==="ncc"?d():C==="nabers"?c():C==="lca"&&h(),Oe.trackUserJourney("tab_changed","Calculator",{tab:C})},onHelpModalOpen:C=>i(D=>({...D,[C]:!0})),actions:E}),e.jsxs(O,{value:"dashboard",className:"space-y-6",children:[l?e.jsx(Nt,{totalEmissions:b,complianceScore:S,insights:x(),complianceCheck:m("overall"),recommendedMaterials:o(),onApplyDefaults:u,calculationHistory:_,isApplyingDefaults:k,onTemplateSelect:L,userFocusAreas:(p==null?void 0:p.focus_areas)||[]}):e.jsxs(e.Fragment,{children:[e.jsx(us,{onSelectTemplate:L,userFocusAreas:[],recentTemplates:[]}),e.jsx(ct,{calculatorData:j,totalEmissions:b}),e.jsx(pt,{calculatorData:j,totalEmissions:b}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Carbon Footprint Dashboard"]})}),e.jsx(w,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(y,{className:"bg-red-50 dark:bg-red-950/20",children:e.jsxs(w,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Total Emissions"}),e.jsxs("div",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:[(b/1e3).toFixed(1)," t"]}),e.jsx("div",{className:"text-xs text-red-500",children:"CO₂ equivalent"})]})}),e.jsx(y,{className:"bg-green-50 dark:bg-green-950/20",children:e.jsxs(w,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Standards Compliance"}),e.jsxs("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:[S,"%"]}),e.jsx("div",{className:"text-xs text-green-500",children:"Compliance score"})]})}),e.jsx(y,{className:"bg-blue-50 dark:bg-blue-950/20",children:e.jsxs(w,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Sign In"}),e.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:"Required"}),e.jsx("div",{className:"text-xs text-blue-500",children:"For personalization"})]})}),e.jsx(y,{className:"bg-purple-50 dark:bg-purple-950/20",children:e.jsxs(w,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"AI Analysis"}),e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:"Ready"}),e.jsx("div",{className:"text-xs text-purple-500",children:"Claude Sonnet 4"})]})})]})})]})]}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"h-5 w-5"}),"Construction Management Integration"]})}),e.jsx(w,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Procore","Autodesk ACC","Buildertrend","PlanGrid","Fieldwire","Smartsheet","Custom API","Real-time Sync"].map(C=>e.jsxs(y,{className:"p-3 text-center",children:[e.jsx("div",{className:"text-sm font-medium",children:C}),e.jsx("div",{className:"text-xs text-green-600",children:"Available"})]},C))})})]}),e.jsxs(y,{children:[e.jsx(R,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5"}),"Claude Sonnet 4 AI Features"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(y,{className:"p-4",children:[e.jsx("h4",{className:"font-medium text-card-foreground",children:"AI Analysis"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Comprehensive carbon footprint analysis with 92%+ confidence"})]}),e.jsxs(y,{className:"p-4",children:[e.jsx("h4",{className:"font-medium text-card-foreground",children:"Smart Recommendations"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Prioritized action plans with ROI calculations"})]}),e.jsxs(y,{className:"p-4",children:[e.jsx("h4",{className:"font-medium text-card-foreground",children:"Interactive Assistant"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Real-time consultation for carbon optimization"})]})]})})]})]}),e.jsx(O,{value:"ncc",children:e.jsx(F,{feature:"NCC Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading NCC Calculator..."}),children:e.jsx(At,{onCalculationUpdate:N.ncc,defaultValues:j.ncc})})})}),e.jsx(O,{value:"nabers",children:e.jsx(F,{feature:"NABERS Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading NABERS Calculator..."}),children:e.jsx(It,{onCalculationUpdate:N.nabers})})})}),e.jsx(O,{value:"lca",children:e.jsx(F,{feature:"LCA Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading LCA Calculator..."}),children:e.jsx(_t,{onCalculationUpdate:N.lca})})})}),e.jsx(O,{value:"scope",children:e.jsx(F,{feature:"Scope Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading Scope Calculator..."}),children:e.jsx(Pt,{onCalculationUpdate:N.scope})})})}),e.jsx(O,{value:"leed",children:e.jsx(F,{feature:"LEED Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading LEED Calculator..."}),children:e.jsx(Mt,{onCalculationUpdate:N.leed})})})}),e.jsx(O,{value:"breeam",children:e.jsx(F,{feature:"BREEAM Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading BREEAM Calculator..."}),children:e.jsx(Dt,{onCalculationUpdate:N.breeam})})})}),e.jsx(O,{value:"greenstar",children:e.jsx(F,{feature:"Green Star Calculator",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading Green Star Calculator..."}),children:e.jsx(Lt,{onCalculationUpdate:N.greenStar})})})}),e.jsx(O,{value:"construction",children:e.jsx(F,{feature:"Construction Integrations",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading construction integrations..."}),children:e.jsx(Ot,{})})})}),e.jsx(O,{value:"ai",children:e.jsx(F,{feature:"AI Assistant",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading AI Assistant..."}),children:e.jsx(ht,{calculatorData:j,totalEmissions:b})})})}),e.jsx(O,{value:"admin",children:e.jsx(F,{feature:"Admin Status",children:e.jsx(f.Suspense,{fallback:e.jsx(U,{type:"card",size:"lg",message:"Loading admin panel..."}),children:e.jsx(Tt,{})})})})]}),e.jsx(lt,{open:n.ncc,onOpenChange:C=>i(D=>({...D,ncc:C}))}),e.jsx(ot,{open:n.nabers,onOpenChange:C=>i(D=>({...D,nabers:C}))}),e.jsx(tt,{open:n.lca,onOpenChange:C=>i(D=>({...D,lca:C}))}),e.jsx(at,{open:n.scope,onOpenChange:C=>i(D=>({...D,scope:C}))}),e.jsx(rt,{open:n.leed,onOpenChange:C=>i(D=>({...D,leed:C}))}),e.jsx(nt,{open:n.breeam,onOpenChange:C=>i(D=>({...D,breeam:C}))}),e.jsx(it,{open:n.greenstar,onOpenChange:C=>i(D=>({...D,greenstar:C}))})]})]})},Qt=({demoMode:s=!1})=>e.jsx("div",{className:"container mx-auto px-4 md:px-6 pb-16",children:e.jsx(zt,{demoMode:s})});export{Qt as C,ts as L,Zs as P,as as R,F as S,xs as a,U as b,pe as u};
//# sourceMappingURL=CarbonCalculator-C0wPmJ0J.js.map
