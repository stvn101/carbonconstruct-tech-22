import{r as j,j as e,b as a,c as y,d as N,e as b,aC as m,I as x,B as F}from"./index-CHtXOOwB.js";import{C as W,a as $,E as G}from"./EnhancedCalculatorResults-DTab-DpY.js";import{S as E}from"./star-DhDyIT4N.js";import"./shield-C3KNxYec.js";import"./CarbonCalculator-C0wPmJ0J.js";import"./separator-BpvyT6Sm.js";import"./target-BPcT1qj9.js";import"./recycle-BV78qFBO.js";import"./settings-JWSwRKg3.js";import"./lightbulb-BLdPPbrd.js";import"./PieChart-B3E5AdY8.js";import"./scroll-area-CvAawM1u.js";import"./usePersonalization-DKPi6Nos.js";import"./switch-Cz-4Jc-7.js";const Y=({onCalculationUpdate:w})=>{const[r,R]=j.useState({area:0,electricity:0,gas:0,water:0,hours:0}),[s,C]=j.useState(null),[I,L]=j.useState([]),S=()=>{const{area:t,electricity:l,gas:n,water:f,hours:g}=r,o=t>0?l/t:0,k=t>0?n/t:0,d=t>0?f/t:0;let h=6;o>300?h=Math.max(.5,6-Math.floor((o-300)/100)*.5):o>150&&(h=Math.max(3,6-Math.floor((o-150)/50)*.5));let u=6;d>1.5?u=Math.max(.5,6-Math.floor((d-1.5)/.5)*.5):d>.8&&(u=Math.max(3,6-Math.floor((d-.8)/.2)*.5));const B=l*.82,M=n*.0513,p=B+M,A=(h+u)/2,v={totalEmissions:p,energyRating:h,waterRating:u,overallRating:A,electricityIntensity:o,gasIntensity:k,waterIntensity:d,materialEmissions:p*.4,transportEmissions:p*.1,energyEmissions:p*.5};C(v),w(v)},i=(t,l)=>{R(n=>({...n,[t]:parseFloat(l)||0}))},c=t=>{const l=Math.floor(t),n=t%1>=.5;return e.jsxs("div",{className:"flex items-center",children:[[...Array(6)].map((f,g)=>e.jsx(E,{className:`h-4 w-4 ${g<l?"fill-yellow-400 text-yellow-400":g===l&&n?"fill-yellow-200 text-yellow-400":"text-gray-300"}`},g)),e.jsxs("span",{className:"ml-2 text-sm font-medium",children:[t.toFixed(1)," stars"]})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(y,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"NABERS Calculation Inputs"]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nabers-area",children:"Net Lettable Area (m²)"}),e.jsx(x,{id:"nabers-area",type:"number",value:r.area||"",onChange:t=>i("area",t.target.value),placeholder:"Enter net lettable area"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nabers-electricity",children:"Annual Electricity (kWh)"}),e.jsx(x,{id:"nabers-electricity",type:"number",value:r.electricity||"",onChange:t=>i("electricity",t.target.value),placeholder:"Enter annual electricity consumption"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nabers-gas",children:"Annual Gas (MJ)"}),e.jsx(x,{id:"nabers-gas",type:"number",value:r.gas||"",onChange:t=>i("gas",t.target.value),placeholder:"Enter annual gas consumption"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nabers-water",children:"Annual Water (kL)"}),e.jsx(x,{id:"nabers-water",type:"number",value:r.water||"",onChange:t=>i("water",t.target.value),placeholder:"Enter annual water consumption"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nabers-hours",children:"Operating Hours per Week"}),e.jsx(x,{id:"nabers-hours",type:"number",value:r.hours||"",onChange:t=>i("hours",t.target.value),placeholder:"Enter operating hours per week"})]})]}),e.jsx(F,{onClick:S,className:"w-full",children:"Calculate NABERS Rating"})]})]}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(y,{children:e.jsxs(N,{className:"flex items-center justify-between",children:["NABERS Results",e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{standard:"nabers",status:s.overallRating>=4.5?"compliant":s.overallRating>=3.5?"warning":"breach"}),e.jsx($,{carbonIntensity:s.totalEmissions/1e3,size:"sm"})]})]})}),e.jsxs(b,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Energy Rating"}),c(s.energyRating)]}),e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Water Rating"}),c(s.waterRating)]}),e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Overall Rating"}),c(s.overallRating)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Emissions"}),e.jsxs("div",{className:"text-2xl font-bold text-destructive",children:[(s.totalEmissions/1e3).toFixed(1)," t CO₂-e"]})]}),e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Electricity Intensity"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[s.electricityIntensity.toFixed(1)," kWh/m²"]})]}),e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Gas Intensity"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[s.gasIntensity.toFixed(1)," MJ/m²"]})]}),e.jsxs(a,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Water Intensity"}),e.jsxs("div",{className:"text-2xl font-bold text-cyan-600",children:[s.waterIntensity.toFixed(2)," kL/m²"]})]})]})]})]}),e.jsx(G,{result:{totalEmissions:s.totalEmissions,materialEmissions:s.materialEmissions||0,transportEmissions:s.transportEmissions||0,energyEmissions:s.energyEmissions||0,breakdown:{materials:s.materialEmissions||0,transport:s.transportEmissions||0,energy:s.energyEmissions||0},breakdownByMaterial:{},breakdownByTransport:{},breakdownByEnergy:{electricity:s.electricityIntensity*r.area,gas:s.gasIntensity*r.area}},materials:I,onMaterialSelect:t=>{console.log("Selected NABERS material for optimization:",t)}}),e.jsxs(a,{children:[e.jsx(y,{children:e.jsx(N,{children:"NABERS Performance Benchmarks"})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Rating Thresholds"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Energy Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[c(s.energyRating),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.energyRating>=4.5?"bg-green-100 text-green-800":s.energyRating>=3.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.energyRating>=4.5?"Excellent":s.energyRating>=3.5?"Good":"Below Average"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Water Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[c(s.waterRating),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.waterRating>=4?"bg-green-100 text-green-800":s.waterRating>=3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.waterRating>=4?"Excellent":s.waterRating>=3?"Good":"Below Average"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Performance Indicators"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.electricityIntensity<150?"bg-green-500":"bg-red-500"}`}),"Electricity: Good performance <150 kWh/m²"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.waterIntensity<.8?"bg-green-500":"bg-red-500"}`}),"Water: Efficient buildings use <0.8 kL/m²"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.overallRating>=4.5?"bg-green-500":"bg-yellow-500"}`}),"Overall: 4.5+ stars indicates market-leading performance"]})]})]})]})})]})]})]})};export{Y as NABERSCalculator};
//# sourceMappingURL=NABERSCalculator-BVcDt6PB.js.map
